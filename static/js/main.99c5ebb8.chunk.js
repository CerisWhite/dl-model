(this["webpackJsonpdl-model"]=this["webpackJsonpdl-model"]||[]).push([[6],{18:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return m}));var a=n(13),r=n(11),o=n(1),i=n.n(o),c=n(8),s=n(7),u=function(e,t){var n,a;switch(t.type){case"toggle":n=t.key,a=t.value;var o=e[n][a];return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},n,Object(r.a)(Object(r.a)({},e[n]),{},Object(c.a)({},a,!o))));case"reset":n=t.key,a=t.value;var i=s.o[n];if(!a)return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},n,Object(r.a)(Object(r.a)({},e[n]),i)));var u={};return a.forEach((function(e){u[e]=i[e]})),Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},n,Object(r.a)(Object(r.a)({},e[n]),u)));case"load":return;case"update":return n=t.key,a=t.value,Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},n,Object(r.a)(Object(r.a)({},e[n]),a)));default:return e}},l=n(9),p=Object(o.createContext)(),d=Object(o.createContext)(),f=Object(l.e)(s.o.animation.code,"init"),h={model:Object(r.a)({},s.o.model),scene:Object(r.a)({},s.o.scene),animation:Object(r.a)({},s.o.animation),app:Object(r.a)({},s.o.app),outline:Object(r.a)({},s.o.outline),capture:Object(r.a)({},s.o.capture),chainMaker:{chain:f}};function m(e){var t=Object(o.useReducer)(u,h),n=Object(a.a)(t,2),r=n[0],c=n[1];return i.a.createElement(p.Provider,{value:r},i.a.createElement(d.Provider,{value:c},e.children))}},30:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"n",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"m",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"g",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return j}));var a=n(48),r=n(1),o=n.n(r),i=n(96),c=n(18),s=n(7),u=n(9),l=function(e,t){Array.isArray(e)?e.forEach((function(e){return t(e)})):t(e)},p=function(e){if(0!==e.length){var t=!1;e.forEach((function(e){if(e){var n=e.split("="),r=Object(a.a)(n),o=r[0],i=r.slice(1);if(i[0]){var l=1===i.length?i[0]:i.join("=");switch(o){case"ft":t=!0;break;case"cc":var p=Object(u.e)(l,"Animation");c.d.chainMaker.chain=p;break;case"bg":"transparent"!==l&&(l="#".concat(l));break;case"cam":l=l.split(",").map((function(e){return parseFloat(e)}))}var d=s.q[o],f=d.group,h=d.key,m="true"===l||"false"===l;c.d[f][h]=m?Boolean("true"===l):l}}})),c.d.model.texture=c.d.model.id,t||(c.d.model.faceTexture=c.d.model.id)}},d=function(e){var t={timeScale:1,repetitions:1},n={ts:"timeScale",r:"repetitions"},a=e.length,r="";return e.forEach((function(o,i){var c=o.fileName,s=o.aniName;c&&(r=(r=0===i?r.concat(c):r.concat(c!==e[i-1].fileName?c:"")).concat("+")),r=r.concat(s),Object.keys(n).forEach((function(e){var a=n[e];o[a]!==t[a]&&(r=r.concat("&".concat(e,"=").concat(o[a])))})),i<a-1&&(r=r.concat(">"))})),r},f=function(e){var t={};return Object.keys(e).forEach((function(n){var a=[];Object.keys(e[n]).forEach((function(t){e[n][t]&&a.push(t)})),t[n]=a})),t},h=function(e,t){var n=Object.keys(t);return e.filter((function(e){return n.every((function(n){return!t[n].length||t[n].includes(e[n])}))}))},m=function(e){var t=e.replace("#","0x");return"#".concat(("000000"+("0xffffff"^t).toString(16)).slice(-6))},b=function(e,t,n){if(!e)return null;var a={maxWidth:"13.5rem"};return Object.keys(e).map((function(r){return o.a.createElement(i.a,{variant:"contained",key:r,"data-value":e[r],"data-name":"".concat(n?"".concat(n," "):"").concat(r),onClick:t,style:a},r)}))},g=function(e,t){return"LOB_".concat(s.h[e],"+").concat(s.h[e],"_ONT_").concat(s.g[t])},v=function(e){return"WIN_".concat(s.h[e],"+").concat(s.h[e],"_WIN_01>+").concat(s.h[e],"_WIN_02")},O=function(e){return"DAS+".concat(s.h[e],"_DAS_02")},w=function(e){return"ROL+".concat(s.h[e],"_ROL_01")},y=function(e){for(var t=s.b[e],n=s.h[e],a="CMB_".concat(n),r=1;r<=t;r++)a=a.concat("+".concat(n,"_CMB_0").concat(r,">"));return a=a.slice(0,-1)},x=function(e){for(var t=s.f[e],n=s.h[e],a="FS_".concat(n),r=1;r<=t;r++)a=a.concat("+".concat(n,"_CHR_0").concat(r,">"));return a=a.slice(0,-1)},j=function(e,t){var n=s.h[e];return"Male"===t?"LOB_".concat(n,"+").concat(n,"_ONT_05&ts=-0.5>+").concat(n,"_ONT_02>+").concat(n,"_ONT_07>+").concat(n,"_ONT_08>+").concat(n,"_ONT_21"):"LOB_".concat(n,"+").concat(n,"_ONT_06&ts=-0.5>+").concat(n,"_ONT_04>+").concat(n,"_ONT_09>+").concat(n,"_ONT_10>+").concat(n,"_ONT_23")}},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return R}));var a=n(1),r=n.n(a),o=n(18),i=n(52),c=n(12),s=n(13),u=n(55),l=n(73),p=n.n(l),d=n(119),f=n(68),h=n(27),m=n.n(h),b=n(41),g=n(56),v=n(3),O=n(6),w=n(4),y=n(5),x=n(0),j=n(72),k=n(7),A=n(40),S=n(9),_=function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).animate=function(){if(e.frameId=requestAnimationFrame(e.animate),e.mixers.length>0){var t=e.clock.getDelta();e.mixers.forEach((function(e){return e.update(t)}))}e.renderer.render(e.scene,e.camera)},e.init=function(){var t,n;e.models={},e.modelInfo={main:e.props.modelId,weaponLeft:e.props.weaponLeft?Object(S.c)(e.props.weaponLeft):"",weaponRight:e.props.weaponRight?Object(S.c)(e.props.weaponRight):""},e.outlines={},e.outlineDetails={color:e.props.outlineColor,size:e.props.outlineSize,enable:e.props.showOutline,opacity:e.props.outlineOpacity},e.viewport=e.props.viewport||{width:window.innerWidth,height:window.innerHeight},e.mixers=[],e.clock=new x.i,e.scene=new x.P,e.scene.background="transparent"!==e.props.bgColor?new x.j(e.props.bgColor):null,e.camera=new x.J(k.a.angle,e.viewport.width/e.viewport.height,k.a.near,k.a.far),e.cameraPosition=e.props.cameraPosition||[2,0,10],(t=e.camera.position).set.apply(t,Object(g.a)(e.cameraPosition)),e.camera.updateProjectionMatrix(),e.controls=new j.a(e.camera,e.mount),e.controlsPosition=e.props.controlsPosition||[0,0,0],(n=e.controls.target).set.apply(n,Object(g.a)(e.controlsPosition)),e.controls.update();var a=new x.l(16777215);a.position.set(0,200,100),e.scene.add(a),e.rendererAA=new x.cb({antialias:!0,alpha:!0}),e.rendererAA.outputEncoding=x.db,e.rendererNoAA=new x.cb({antialias:!1,alpha:!0}),e.rendererNoAA.outputEncoding=x.db,e.renderer=e.props.antiAliasing?e.rendererAA:e.rendererNoAA,e.canvas=e.renderer.domElement,e.renderer.setSize(e.viewport.width,e.viewport.height),e.mount.appendChild(e.canvas),e.animate()},e.playNextAni=function(){e.props.capture&&e._aniIdx===e.nAni-1&&(e.mediaRecorder.stop(),e.props.toggleCapture());var t=(e._aniIdx+1)%e.nAni;e.aniIdx=t},e.addAnimationChain=function(){var t=Object(b.a)(m.a.mark((function t(n,a,r){var o,i,c,u,l,p,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return o=Object(S.b)(a),i=Object(s.a)(o,2),c=i[0],u=i[1],e.nAni=u.length,e.props.setIsLoading(!0),n.mixer=new x.c(n),e.mixers.push(n.mixer),e._aniIdx=0,n.mixer.timeScale=r,n.mixer.addEventListener("finished",e.playNextAni),e.aniSettings=u.map((function(e){return{timeScale:e.timeScale,repetitions:e.repetitions}})),l=c.map((function(e){var t="".concat(R,"/fbx/").concat(e,".fbx");return Object(S.k)(t)})),p=[],t.next=15,Promise.all(l);case 15:d=t.sent,u.forEach((function(e){var t=e.fileIdx,n=e.aniName,a=n?d[t].animations.find((function(e){return e.name===n})):d[t].animations[0];p.push(a)})),e.animations=p,e.aniIdx=0,e.props.setIsLoading(!1);case 20:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.initLoad=function(){var t="".concat(R,"/fbx/").concat(e.props.model,"/").concat(e.props.model,".fbx"),n=Object(S.k)(t),a=e.props.weaponRight?e.modelInfo.weaponRight.model:"",r=Object(S.k)(a),o=e.props.weaponLeft?e.modelInfo.weaponLeft.model:"",i=Object(S.k)(o);return Promise.all([n,r,i])},e.addWeapon=function(t,n){var a="jWeapon".concat(n[0]);e.models.main.traverse((function(e){e.name===a&&0===e.children.length&&e.add(t)}))},e.removeWeapon=function(t){var n="jWeapon".concat(t[0]);e.models.main.traverse((function(a){1===a.children.length&&a.name===n&&"Group"===a.children[0].type&&a.remove(e.models["weapon".concat(t)])}))},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,a,r,o,i,c,u,l,p,d=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.init(),this.props.setIsLoading(!0),e.next=4,this.initLoad();case 4:t=e.sent,n=Object(s.a)(t,3),a=n[0],r=n[1],o=n[2],this.models={main:a,weaponRight:r,weaponLeft:o},this.outlines.main=Object(S.a)(a,this.outlineDetails),a.initPos=a.position.clone(),a.initRot=a.rotation.clone(),Object(S.f)(a),["Right","Left"].forEach((function(e){var t="weapon".concat(e);if(d.props[t]){var n=d.modelInfo[t],a=d.models[t],r=n.texture;Object(S.f)(a,r),a.rotation.y=n.flipped?Math.PI:0,d.outlines[t]=Object(S.a)(a,d.outlineDetails),d.addWeapon(d.models["weapon".concat(e)],e)}})),i=this.props.texture!==this.props.faceTexture,(0!==this.props.faceOffset.x||0!==this.props.faceOffset.y||i)&&(c={x:0,y:0},i&&(u=A.a[this.props.texture]||{x:0,y:0},l=A.a[this.props.faceTexture]||{x:0,y:0},c={x:l.x-u.x,y:l.y-u.y}),p={x:this.props.faceOffset.x+c.x,y:this.props.faceOffset.y+c.y},Object(S.d)(a,this.props.faceTexture,p)),this.scene.add(a),this.props.setIsLoading(!1),this.addAnimationChain(a,this.props.aniCode,this.props.timeScale);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,a,r,o,i,c,s,u,l,p,d,f,h,g,v,O,w,y,j,k,_,C=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.viewport.width===this.props.viewport.width&&t.viewport.height===this.props.viewport.height||(n=this.props.viewport,a=n.width,r=n.height,this.renderer.setSize(a,r),this.camera.aspect=a/r,this.camera.updateProjectionMatrix()),t.capture!==this.props.capture&&this.props.capture&&(this.videoStream=this.canvas.captureStream(30),this.mediaRecorder=new MediaRecorder(this.videoStream,{mimeType:this.props.captureSetting.codec}),this.chunks=[],this.mediaRecorder.ondataavailable=function(e){return C.chunks.push(e.data)},this.mediaRecorder.onstop=function(){C.props.setIsLoading(!1);var e=new Blob(C.chunks,{type:"video/webm"}),t=URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download="animation.webm",n.click(),window.URL.revokeObjectURL(t)},this.props.setIsLoading(!0),this.aniIdx=0,this.mediaRecorder.start()),t.antiAliasing!==this.props.antiAliasing&&(o=new x.Y,this.renderer.getSize(o),this.renderer=this.props.antiAliasing?this.rendererAA:this.rendererNoAA,this.renderer.setSize(o.x,o.y),this.mount.removeChild(this.canvas),this.canvas=this.renderer.domElement,this.mount.appendChild(this.canvas)),t.model===this.props.model){e.next=25;break}return this.props.setIsLoading(!0),i="".concat(R,"/fbx/").concat(this.props.model,"/").concat(this.props.model,".fbx"),e.next=8,Object(S.k)(i);case 8:c=e.sent,Object(S.f)(c),this.outlines.main=Object(S.a)(c,this.outlineDetails),["Right","Left"].forEach((function(e){var n="weapon".concat(e);t[n]&&C.removeWeapon(e)})),this.scene.remove(this.models.main),Object(S.j)(this.models.main),this.models.main=c,c.initPos=c.position.clone(),c.initRot=c.rotation.clone(),this.scene.add(c),s=this.props.texture!==this.props.faceTexture,(0!==this.props.faceOffset.x||0!==this.props.faceOffset.y||s)&&Object(S.d)(c,this.props.faceTexture,this.props.faceOffset),["Right","Left"].forEach((function(e){var t="weapon".concat(e),n=C.models[t];n&&(C.addWeapon(n,e),C.outlines[t]||(C.outlines[t]=Object(S.a)(n,C.outlineDetails)))})),this.addAnimationChain(c,this.props.aniCode,this.props.timeScale),this.props.setIsLoading(!1),e.next=27;break;case 25:u=t.faceTexture!==this.props.faceTexture,(t.faceOffset!==this.props.faceOffset||u)&&(l=this.props.faceOffset.x-t.faceOffset.x,p=this.props.faceOffset.y-t.faceOffset.y,d={x:0,y:0},u&&(f=A.a[t.faceTexture]||{x:0,y:0},h=A.a[this.props.faceTexture]||{x:0,y:0},d={x:h.x-f.x,y:h.y-f.y}),g={x:l+d.x,y:p+d.y},Object(S.d)(this.models.main,this.props.faceTexture,g));case 27:["Right","Left"].forEach(function(){var e=Object(b.a)(m.a.mark((function e(n){var a,r,o,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="weapon".concat(n),t[a]!==C.props[a]){e.next=3;break}return e.abrupt("return");case 3:if(C.removeWeapon(n),Object(S.j)(C.models[a]),C.props[a]){e.next=10;break}return C.models[a]=null,C.modelInfo[a]="",C.outlines[a]=null,e.abrupt("return");case 10:return C.props.setIsLoading(!0),C.modelInfo[a]=Object(S.c)(C.props[a]),r=C.modelInfo[a],o=r.model,i=r.texture,e.next=15,Object(S.k)(o);case 15:c=e.sent,C.models[a]=c,Object(S.f)(C.models[a],i),C.modelInfo[a].flipped&&(C.models[a].rotation.y=Math.PI),C.outlines[a]=Object(S.a)(c,C.outlineDetails),C.addWeapon(c,n),C.props.setIsLoading(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.aniCode!==this.props.aniCode&&(t.aniCode&&(this.models.main.mixer.stopAllAction(),v=this.models.main,O=v.initPos,w=v.initRot,this.models.main.position.copy(O),this.models.main.rotation.copy(w),this.mixers=[],this.animations=[]),this.addAnimationChain(this.models.main,this.props.aniCode,this.props.timeScale)),t.timeScale!==this.props.timeScale&&this.mixers.length>0&&this.mixers.forEach((function(e){return e.timeScale=C.props.timeScale})),t.bgColor!==this.props.bgColor&&(this.scene.background="transparent"!==this.props.bgColor?new x.j(this.props.bgColor):null),t.showOutline!==this.props.showOutline&&(y=this.props.showOutline,this.outlineDetails.enable=y,Object.keys(this.outlines).forEach((function(e){C.outlines[e]&&C.outlines[e].forEach((function(e){return e.visible=y}))}))),t.outlineSize!==this.props.outlineSize&&(j=this.props.outlineSize,this.outlineDetails.size=j,Object.keys(this.outlines).forEach((function(e){C.outlines[e]&&C.outlines[e].forEach((function(e){return Object(S.i)(e,j)}))}))),t.outlineOpacity!==this.props.outlineOpacity&&(k=this.props.outlineOpacity,this.outlineDetails.opacity=k,Object.keys(this.outlines).forEach((function(e){C.outlines[e]&&C.outlines[e].forEach((function(e){return Object(S.g)(e,k)}))}))),t.outlineColor!==this.props.outlineColor&&(_=this.props.outlineColor,Object.keys(this.outlines).forEach((function(e){C.outlines[e]&&C.outlines[e].forEach((function(e){return Object(S.h)(e,_)}))})));case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),Object(S.j)(this.scene),this.mixers=null,this.clock=null,this.camera=null,this.controls=null,this.scene=null,this.renderer=null,this.rendererAA.renderLists.dispose(),this.rendererAA.dispose(),this.rendererAA=null,this.rendererNoAA.renderLists.dispose(),this.rendererNoAA.dispose(),this.rendererNoAA=null}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){e.mount=t}})}},{key:"aniIdx",set:function(e){this._aniIdx=e;var t=this.animations[e],n=this.models.main.mixer;n.stopAllAction();var a=n.clipAction(t),r=this.aniSettings[e],o=r.timeScale,i=r.repetitions;a.setLoop(x.w,i),a.clampWhenFinished=!0,a.timeScale=o,a.time=0,a.play()}}]),n}(a.PureComponent),C=(n(91),Object(a.lazy)((function(){return Promise.all([n.e(5),n.e(18)]).then(n.bind(null,492))})));var E=function(e){var t=e.viewport,n=Object(a.useContext)(o.b),i=n.model,c=i.id,s=i.texture,u=i.faceTexture,l=i.face,p=i.weaponRight,d=i.weaponLeft,f=n.animation,h=f.code,m=f.timeScale,b=n.scene,g=b.background,v=b.initCameraPosition,O=n.app,w=O.showAniControl,y=O.antiAliasing,x=n.capture.enable,j=n.outline,A=j.enable,S=j.color,E=j.size,L=j.opacity,I=Object(a.useContext)(o.a),N=Object(a.useCallback)((function(){I({type:"toggle",key:"capture",value:"enable"})}),[I]),W=k.p["face".concat(l)],R=c[0],M=k.l[c]?k.l[c]:k.l[R],P=v?v.map((function(e,t){return isNaN(e)?M[t]:e})):M,T=k.n[c]?k.n[c]:k.n[R];return r.a.createElement("div",{className:"Display"},w&&r.a.createElement("div",{className:"Display-AniControl"},r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(C,{value:n.animation.timeScale}))),r.a.createElement(_,{setIsLoading:e.setIsLoading,capture:x,captureSetting:n.capture,toggleCapture:N,viewport:t,cameraPosition:P,controlsPosition:T,model:c,texture:s,faceTexture:u,faceOffset:W,weaponRight:p,weaponLeft:d,aniCode:h,timeScale:m,bgColor:g,showOutline:A,outlineColor:S,outlineSize:E,outlineOpacity:L,antiAliasing:y}))},L=n(30),I=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(11),n.e(10)]).then(n.bind(null,499))})),N=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(17),n.e(29)]).then(n.bind(null,506))}));var W=function(e){var t=e.location,n=Object(f.a)(),i=Object(a.useState)("model"),c=Object(s.a)(i,2),l=c[0],h=c[1],m=Object(u.a)(!0),b=Object(s.a)(m,2),g=b[0],v=b[1],O=Object(u.a)(!1),w=Object(s.a)(O,2),y=w[0],x=w[1],j=Object(a.useState)(!1),k=Object(s.a)(j,2),A=k[0],S=k[1],_=Object(a.useState)(!1),C=Object(s.a)(_,2),W=C[0],R=C[1],M=Object(a.useContext)(o.b).app.showSettings,P=Object(a.useRef)(),T=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),B=Object(s.a)(T,2),D=B[0],z=B[1];Object(a.useEffect)((function(){var e=t.pathname.split("/");return Object(L.n)(e),R(!0),window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}}),[t.pathname]);var F=function(){var e=P.current.clientHeight,t=P.current.clientWidth;z({width:t,height:e})};return r.a.createElement(r.a.Fragment,null,A&&r.a.createElement("div",{className:n.loadingMsg},"Loading..."),r.a.createElement("div",{className:n.root},r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(d.a,null),r.a.createElement(I,{mode:l,open:y,toggleControlOpen:x}),W&&M&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:v,className:n.openSidebarButton},r.a.createElement(p.a,null)),r.a.createElement(N,{toggleSidebarOpen:v,open:g,openControl:function(e){x(),h(e)}}))),W&&r.a.createElement("main",{ref:P,className:n.content},r.a.createElement(E,{setIsLoading:S,viewport:D}))))};n(93);var R="/dl-model";t.a=function(){return r.a.createElement(o.c,null,r.a.createElement(i.b,null,r.a.createElement(c.a,{render:function(e){return r.a.createElement(W,e)}})))}},40:function(e,t,n){"use strict";t.a={c110267_01:{x:.08,y:-.03},c110050_02:{x:.07,y:.13},c110291_01:{x:.07,y:.14},c110354_01:{x:.07,y:.01},c110345_01:{x:.08,y:-.13},c110266_01:{x:.01,y:.03},c110365_01:{x:.043,y:-.0625},c110346_01:{x:.07,y:.08},c110366_01:{x:.043,y:-.0625},c110299_02:{x:.07,y:.08},c110360_01:{x:.07,y:.14},c110307_01:{x:.08,y:-.03},c110322_01:{x:.043,y:.08},c110356_01:{x:.07,y:.08},c110300_01:{x:.07,y:-.1},c110344_01:{x:.07,y:-.02},c110053_03:{x:.043,y:-.0625},c110368_01:{x:.043,y:-.0625},c110367_01:{x:.043,y:-.0625},c110003_02:{x:.043,y:-.0625},c110270_02:{x:.043,y:-.0625},c110341_03:{x:.043,y:-.0625}}},55:function(e,t,n){"use strict";var a=n(13),r=n(1);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r.useState)(e),n=Object(a.a)(t,2),o=n[0],i=n[1],c=Object(r.useRef)((function(){i((function(e){return!e}))}));return[o,c.current]}},68:function(e,t,n){"use strict";var a=n(98),r=n(7),o=n(69),i=n.n(o),c=r.d,s=r.c,u=Object(a.a)((function(e){return{root:{display:"block",width:"100vw",height:"100vh"},drawer:{width:c,overflowY:"scroll"},drawerPaper:{alignItems:"center",backgroundColor:s,backgroundImage:"url(".concat(i.a,")"),backgroundSize:"cover",backgroundPosition:"center",width:c,"& button":{marginBottom:"0.2rem"}},content:{height:"100vh",width:"100vw",padding:0},openSidebarButton:{position:"absolute",top:0,left:0,margin:"2rem",opacity:"0.5",borderRadius:"0.25rem",transition:"0.5s all ease-in-out",cursor:"pointer","&:hover":{opacity:"1"}},loadingMsg:{position:"absolute",zIndex:"9999",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"x-large",backgroundColor:"rgba(0,0,0,0.5)"}}}));t.a=u},69:function(e,t,n){e.exports=n.p+"static/media/Rose-Petals.1911e778.svg"},7:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"q",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"r",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return O})),n.d(t,"p",(function(){return w})),n.d(t,"s",(function(){return y}));var a="15rem",r="#330000",o="https://dgk3593.github.io/dl-model/#/",i={model:{id:"c100001_01",texture:"c100001_01",faceTexture:"c100001_01",face:2,weaponRight:"",weaponLeft:""},scene:{background:"#cccccc",initCameraPosition:null},animation:{code:"MWM_CMN+CMN_MWM_03",timeScale:1},app:{sideContent:"settings",showSettings:!0,showAniControl:!0,antiAliasing:!1,capture:!1},outline:{enable:!0,size:5,color:"#000000",opacity:1},capture:{enable:!1,supportedCodecs:[],codec:""}},c={id:{group:"model",key:"id"},ft:{group:"model",key:"faceTexture"},f:{group:"model",key:"face"},wr:{group:"model",key:"weaponRight"},wl:{group:"model",key:"weaponLeft"},bg:{group:"scene",key:"background"},cam:{group:"scene",key:"initCameraPosition"},ts:{group:"animation",key:"timeScale"},showAC:{group:"app",key:"showAniControl"},showSettings:{group:"app",key:"showSettings"},showOutline:{group:"outline",key:"enable"},AA:{group:"app",key:"antiAliasing"},cc:{group:"animation",key:"code"}},s={Sword:"SWD",Blade:"KAT",Dagger:"DAG",Axe:"AXE",Lance:"LAN",Bow:"BOW",Wand:"ROD",Staff:"CAN",Manacaster:"GUN"},u=["Sword","Blade","Dagger","Axe","Lance","Bow","Wand","Staff","Manacaster"],l={Male:21,Female:23},p={Axe:5,Bow:6,Staff:5,Dagger:6,Blade:5,Lance:5,Wand:5,Sword:5},d={Axe:3,Bow:3,Staff:5,Dagger:3,Blade:3,Lance:4,Wand:3,Sword:3},f={rarity:["3","4","5"],element:["Flame","Water","Wind","Light","Shadow"],weapon:["Sword","Blade","Dagger","Axe","Lance","Bow","Wand","Staff","Manacaster"]},h={rarity:["1","2","3","4","5","6"],element:["Flame","Water","Wind","Light","Shadow","None"],weapon:["Sword","Blade","Dagger","Axe","Lance","Bow","Wand","Staff","Manacaster"]},m={c110300_01:"ec110300_01"},b={green:"#00ff00",black:"#000000",grey:"#cccccc",white:"#ffffff"},g={angle:45,far:300,near:.01},v={c:[0,.5,1.5],d:[3,.5,6],c100034_01:[0,.5,1.75],d210078_01:[3,3,20],d210114_01:[3,3,20],smith:[1,1,2]},O={c:[0,.5,0],d:[0,1,0],d210078_01:[0,3,0],d210114_01:[0,3,0],smith:[0,.5,0]},w={face1:{x:2,y:1},face2:{x:0,y:0},face3:{x:1,y:0},face4:{x:2,y:0},face5:{x:3,y:0},face6:{x:0,y:-1},face7:{x:1,y:-1},face8:{x:2,y:-1},face9:{x:3,y:-1}},y=["video/webm;codecs=h264","video/webm;codecs=vp9","video/webm;codecs=vp8","video/webm"]},81:function(e,t,n){e.exports=n(95)},86:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"k",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return x}));var a=n(71),r=n(48),o=n(13),i=n(0),c=n(34),s=n(100),u=n(74),l=n(30),p=function(e){return e&&new Promise((function(t){(new u.a).load(e,t)}))},d=function(e){var t=e.endsWith("b"),n=e.substring(0,e.length-1);return{model:"".concat(c.b,"/fbx/").concat(n,"/").concat(n,".fbx"),texture:"".concat(c.b,"/fbx/").concat(n,"/").concat(n,".png"),flipped:t}},f=function(e){if(e){var t=new Set,n=function(e){return e&&function(e){return!t.has(e.uuid)}(e)},a=function(e){n(e)&&function(e){t.add(e.uuid),e.dispose()}(e)};e.traverse((function(e){e.isMesh&&(Object(l.b)(e.material,(function(e){a(e.map),a(e)})),a(e.geometry))}))}},h=function(e,t){e&&e.traverse((function(e){if(e.isMesh&&"outline"!==e.name){var n,a=e.material;(n=t?(new i.W).load(t):Array.isArray(e.material)?a[0].map:a.map).encoding=i.db;var r=new i.C({map:n,skinning:!0});Object(l.b)(a,(function(e){t&&e.map&&e.map.dispose(),e.dispose()})),Array.isArray(a)?e.material=new Array(a.length).fill(r):e.material=r}}))},m=function(e,t){var n=e.material;Object(l.b)(n,(function(e){e.opacity=t}))},b=function(e,t){e.fog=!e.fog,e.needsUpdate=!0,e.onBeforeCompile=function(e){var n="\n                vec3 transformed = position + objectNormal*".concat(5e-4*t,";\n            ");e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",n)},setTimeout((function(){e.fog=!e.fog,e.needsUpdate=!0}),100)},g=function(e,t){var n=e.material;if(Array.isArray(n)){var a=new Set;n.forEach((function(e){a.has(e.uuid)||(b(e,t),a.add(e.uuid))}))}else b(n,t)},v=function(e,t){var n=e.material;if(Array.isArray(n)){var a=new Set;n.forEach((function(e){a.has(e.uuid)||(e.color=new i.j(t),a.add(e.uuid))}))}else n.color=new i.j(t)},O=function(e,t){if(e){var n=[];return e.traverse((function(e){if(e.isMesh){var a=e.clone();a.name="outline",a.visible=t.enable,n.push(a),!function(e,t){Object(l.b)(e.material,(function(e){e.map&&e.map.dispose(),e.dispose()})),Array.isArray(e.material)?e.material=new Array(e.material.length).fill(t):e.material=t}(a,function(e){var t=e.size,n=e.color,a=e.opacity,r=new i.F({color:n,opacity:a,side:i.d,transparent:!0,skinning:!0});return r.onBeforeCompile=function(e){var n="\n            vec3 transformed = position + objectNormal*".concat(5e-4*t,";\n        ");e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",n)},r}(t)),e.isSkinnedMesh&&a.bind(e.skeleton,e.bindMatrix),e.parent.add(a)}})),n}},w=function(e,t,n){var a="".concat(c.b,"/fbx/").concat(t,"/").concat(t,".png"),r=(new i.W).load(a);r.encoding=i.db;var o=new i.C({map:r,skinning:!0});e.traverse((function(e){if("mBodyAll"===e.name&&3===e.geometry.groups.length){var t=e.geometry.groups.filter((function(e){return e.count<1e3}));if(2===t.length)if(t.map((function(e){return e.materialIndex})).forEach((function(t){return e.material[t]=o})),0!==n.x||0!==n.y){for(var a=Math.min(t[0].start,t[1].start),r=Math.max(t[0].start+t[0].count,t[1].start+t[1].count),i=e.geometry.attributes.uv,c=a;c<r;c++){var s=i.getX(c)+.25*n.x,u=i.getY(c)+.25*n.y;i.setXY(c,s,u)}i.needsUpdate=!0}}}))},y=function(e){if(!e)return["",""];for(var t=e.split(">"),n=t.length,i=[],c=[],s=0;s<n;s++){var u,l=1,p=1,d=null,f=null,h=null,m=void 0,b=t[s].split("+");if(1===b.length)m=b[0];else{var g=Object(o.a)(b,2);h=g[0],m=g[1],d=i.length-1}if(h&&(d=i.length,i.push(h)),m.includes("&")){var v=m.split("&"),O=Object(r.a)(v),w=O[0],y=O.slice(1);f=w;var x,j=Object(a.a)(y);try{for(j.s();!(x=j.n()).done;){var k=x.value.split("="),A=Object(o.a)(k,2),S=A[0],_=A[1];"ts"===S&&(l=parseFloat(_)),"r"===S&&(p="inf"===_?1/0:parseInt(_))}}catch(C){j.e(C)}finally{j.f()}}else f=m;u={fileIdx:d,aniName:f,timeScale:l,repetitions:p},c.push(u)}return[i,c]},x=function(e,t){var n=y(e),a=Object(o.a)(n,2),r=a[0],i=a[1],c=i.length;return i.map((function(e,n){var a=e.fileIdx,o=e.aniName,i=e.timeScale,u=e.repetitions;return{name:t.concat(c>1?"#".concat(n+1):""),fileName:r[a],aniName:o,timeScale:i,repetitions:u,id:Object(s.a)()}}))}},91:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(32),i=n.n(o),c=(n(86),n(34)),s=n(52);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(s.a,null,r.a.createElement(c.a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,7,9]]]);
//# sourceMappingURL=main.99c5ebb8.chunk.js.map