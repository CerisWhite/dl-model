{"version":3,"sources":["MainPage/Sidebar/Modal/FaceSelect/styles/FaceSelectStyles.js","MainPage/Sidebar/SidebarBody/ChainMaker/ChainAniFaceDetails.js"],"names":["faceBGSize","useStyles","eyeOffsetFix","mouthOffsetFix","baseOffset","Array","fill","map","_","i","idx","Math","floor","eyeX","eyeY","eyeXFix","eyeYFix","eyeBgPos","offsetX","offsetY","mouthX","mouthY","mouthXFix","mouthYFix","mouthBgPos","faceSize","styles","root","display","gridTemplateColumns","gridGap","margin","faceBox","flexDirection","cursor","eyeBox","width","height","backgroundSize","borderRadius","mouthBox","backgroundPosition","makeStyles","ChainAniFaceDetails","props","change","id","time","eyeIdx","mouthIdx","deleteFaceChange","handleChange","handleClick","useContext","SettingsContext","model","eyeTexture","mouthTexture","eyeImgPath","fbxSource","mouthImgPath","textureOffsets","classes","eye","className","style","backgroundImage","mouth","onClick","onChange","inputProps","type","min","max","step","value","data-target","data-id"],"mappings":"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","file":"static/js/60.1bec12a8.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst faceBGSize = \"512px 512px\";\r\nconst faceSize = 64;\r\n\r\n/**\r\n * @param {xyCoordinate} eyeOffsetFix\r\n * @param {xyCoordinate} mouthOffsetFix\r\n */\r\nconst useStyles = (eyeOffsetFix, mouthOffsetFix) => {\r\n    const indexes = Array(9)\r\n        .fill()\r\n        .map((_, i) => i + 1);\r\n    const baseOffset = indexes.map(idx => {\r\n        if (idx === 1) return [-280, -170];\r\n\r\n        const n = (idx - 2) % 4;\r\n        const m = Math.floor(idx / 6);\r\n        const offsetX = -(24 + n * 128);\r\n        const offsetY = -(298 + m * 128);\r\n        return [offsetX, offsetY];\r\n    });\r\n\r\n    const [eyeX, eyeY] = eyeOffsetFix;\r\n    const eyeXFix = eyeX * 128;\r\n    const eyeYFix = eyeY * 128;\r\n    const eyeBgPos = i => {\r\n        const [offsetX, offsetY] = baseOffset[i - 1];\r\n        return `${offsetX - eyeXFix}px ${offsetY + eyeYFix}px`;\r\n    };\r\n\r\n    const [mouthX, mouthY] = mouthOffsetFix;\r\n    const mouthXFix = mouthX * 128;\r\n    const mouthYFix = mouthY * 128;\r\n    const mouthBgPos = i => {\r\n        const [offsetX, offsetY] = baseOffset[i - 1];\r\n        return `${offsetX - mouthXFix}px ${\r\n            offsetY + mouthYFix - faceSize / 2\r\n        }px`;\r\n    };\r\n\r\n    const styles = {\r\n        root: {\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"1fr 1fr 1fr\",\r\n            gridGap: \"0.5rem\",\r\n            margin: \"0.5rem\",\r\n        },\r\n        faceBox: {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            cursor: \"pointer\",\r\n        },\r\n        eyeBox: {\r\n            width: `${faceSize}px`,\r\n            height: `${faceSize / 2}px`,\r\n            backgroundSize: faceBGSize,\r\n            borderRadius: \"0.5rem 0.5rem 0 0\",\r\n        },\r\n        mouthBox: {\r\n            width: `${faceSize}px`,\r\n            height: `${faceSize / 2}px`,\r\n            backgroundSize: faceBGSize,\r\n            borderRadius: \"0 0 0.5rem 0.5rem\",\r\n        },\r\n    };\r\n    for (let i = 1; i <= 9; i++) {\r\n        styles[`eye${i}`] = {\r\n            backgroundPosition: eyeBgPos(i),\r\n        };\r\n        styles[`mouth${i}`] = {\r\n            backgroundPosition: mouthBgPos(i),\r\n        };\r\n    }\r\n    // @ts-ignore\r\n    return makeStyles(styles)();\r\n};\r\n\r\nexport default useStyles;\r\n","import { useContext } from \"react\";\r\nimport { SettingsContext } from \"context/SettingsContext\";\r\nimport useStyles from \"MainPage/Sidebar/Modal/FaceSelect/styles/FaceSelectStyles\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport Close from \"@material-ui/icons/Close\";\r\n\r\nimport { fbxSource } from \"App\";\r\nimport textureOffsets from \"data/face_offset\";\r\n\r\nfunction ChainAniFaceDetails(props) {\r\n    const {\r\n        change: { id, time, eyeIdx, mouthIdx },\r\n        deleteFaceChange,\r\n        handleChange,\r\n        handleClick,\r\n    } = props;\r\n\r\n    const {\r\n        model: { eyeTexture, mouthTexture },\r\n    } = useContext(SettingsContext);\r\n\r\n    const eyeImgPath = `${fbxSource}/fbx/${eyeTexture}/${eyeTexture}.png`;\r\n    const mouthImgPath = `${fbxSource}/fbx/${mouthTexture}/${mouthTexture}.png`;\r\n    const eyeOffsetFix = textureOffsets[eyeTexture] || [0, 0];\r\n    const mouthOffsetFix = textureOffsets[mouthTexture] || [0, 0];\r\n\r\n    const classes = useStyles(eyeOffsetFix, mouthOffsetFix);\r\n\r\n    const eye = eyeIdx ? (\r\n        <div\r\n            className={`${classes[`eye${eyeIdx}`]} ${classes[\"eyeBox\"]}`}\r\n            style={{ backgroundImage: `url(${eyeImgPath})` }}\r\n        />\r\n    ) : (\r\n        \"Set\"\r\n    );\r\n    const mouth = mouthIdx ? (\r\n        <div\r\n            className={`${classes[`mouth${mouthIdx}`]} ${classes[\"mouthBox\"]}`}\r\n            style={{ backgroundImage: `url(${mouthImgPath})` }}\r\n        />\r\n    ) : (\r\n        \"Set\"\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"ChainAniFace-delete\"\r\n                onClick={deleteFaceChange}\r\n                id={id}\r\n            >\r\n                <Close />\r\n            </div>\r\n            <TextField\r\n                onChange={handleChange}\r\n                inputProps={{\r\n                    type: \"number\",\r\n                    min: 0,\r\n                    max: 100,\r\n                    step: 1,\r\n                    \"data-name\": \"time\",\r\n                    \"data-id\": id,\r\n                }}\r\n                value={time}\r\n            />\r\n            <div onClick={handleClick} data-target=\"eye\" data-id={id}>\r\n                {eye}\r\n            </div>\r\n            <div onClick={handleClick} data-target=\"mouth\" data-id={id}>\r\n                {mouth}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ChainAniFaceDetails;\r\n"],"sourceRoot":""}