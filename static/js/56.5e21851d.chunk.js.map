{"version":3,"sources":["../node_modules/@material-ui/icons/Add.js","MainPage/Sidebar/SidebarBody/ChainMaker/ChainAniFace.js","MainPage/Sidebar/SidebarBody/ChainMaker/ChainAniAdvanced.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","faceDetails","adv","lazy","dragon","ChainAniFace","props","faceChanges","deleteFaceChange","updateFaceChange","addFaceChange","openModal","viewerType","useContext","SettingsContext","app","handleParamsChange","event","currentTarget","dataset","id","name","changeToUpdate","find","change","newChange","handleClick","target","key","modalName","capitalize","idx","FaceDetails","details","map","fallback","handleChange","includes","className","length","onClick","ChainAniAdvanced","timeScale","repetitions","updateParams","handleParamChange","updateValue","updateFaceChanges","newFaceChanges","TextField","onChange","label","size","margin","variant","inputProps","type","step","filter","newFaceChange","blankChange","uuid","time","eyeIdx","mouthIdx"],"mappings":"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","file":"static/js/56.5e21851d.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","import { lazy, Suspense, useContext } from \"react\";\r\n\r\nimport { SettingsContext } from \"context/SettingsContext\";\r\n\r\nimport Add from \"@material-ui/icons/Add\";\r\n\r\nimport { capitalize } from \"helpers/helpers\";\r\n\r\nconst AdvFaceDetails = lazy(() => import(\"./ChainAniFaceDetails\"));\r\nconst DragonFaceDetails = lazy(() => import(\"./ChainAniDragonFaceDetails\"));\r\n\r\nconst faceDetails = { adv: AdvFaceDetails, dragon: DragonFaceDetails };\r\n\r\nfunction ChainAniFace(props) {\r\n    const {\r\n        faceChanges,\r\n        deleteFaceChange,\r\n        updateFaceChange,\r\n        addFaceChange,\r\n        openModal,\r\n    } = props;\r\n\r\n    const {\r\n        app: { viewerType },\r\n    } = useContext(SettingsContext);\r\n\r\n    const handleParamsChange = event => {\r\n        const {\r\n            value,\r\n            dataset: { id, name },\r\n        } = event.currentTarget;\r\n        const changeToUpdate = faceChanges.find(change => change.id === id);\r\n        const newChange = { ...changeToUpdate, [name]: value };\r\n        updateFaceChange(id, newChange);\r\n    };\r\n\r\n    const handleClick = event => {\r\n        const { id, target } = event.currentTarget.dataset;\r\n        const key = `${target}Idx`;\r\n        const handler = idx => {\r\n            const changeToUpdate = faceChanges.find(change => change.id === id);\r\n            const newChange = { ...changeToUpdate, [key]: idx };\r\n            updateFaceChange(id, newChange);\r\n        };\r\n\r\n        const modalName =\r\n            viewerType === \"dragon\" ? `dragon${capitalize(target)}` : target;\r\n        openModal(modalName, handler);\r\n    };\r\n\r\n    const FaceDetails = faceDetails[viewerType];\r\n\r\n    const details = faceChanges?.map(change => (\r\n        <Suspense fallback={null} key={change.id}>\r\n            <FaceDetails\r\n                change={change}\r\n                handleClick={handleClick}\r\n                deleteFaceChange={deleteFaceChange}\r\n                handleChange={handleParamsChange}\r\n            />\r\n        </Suspense>\r\n    ));\r\n\r\n    return [\"adv\", \"dragon\"].includes(viewerType) ? (\r\n        <>\r\n            <div className=\"ChainAniFace-title\">Facial Expression</div>\r\n            <div className=\"ChainAniFace-list\">\r\n                {faceChanges?.length > 0 && (\r\n                    <>\r\n                        <div></div>\r\n                        <div>Time (%)</div>\r\n                        <div>Eye</div>\r\n                        <div>Mouth</div>\r\n                        {details}\r\n                    </>\r\n                )}\r\n                <div className=\"ChainAniFace-delete\" onClick={addFaceChange}>\r\n                    <Add />\r\n                </div>\r\n            </div>\r\n        </>\r\n    ) : (\r\n        <></>\r\n    );\r\n}\r\n\r\nexport default ChainAniFace;\r\n","import TextField from \"@material-ui/core/TextField\";\r\n\r\nimport ChainAniFace from \"./ChainAniFace\";\r\n\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nfunction ChainAniAdvanced(props) {\r\n    const {\r\n        timeScale,\r\n        repetitions,\r\n        faceChanges,\r\n        updateParams,\r\n        openModal,\r\n    } = props;\r\n\r\n    const handleParamChange = event => {\r\n        const { name, value } = event.target;\r\n        const updateValue = { [name]: value };\r\n        updateParams(updateValue);\r\n    };\r\n\r\n    const updateFaceChanges = newFaceChanges => {\r\n        const updateValue = { faceChanges: newFaceChanges };\r\n        updateParams(updateValue);\r\n    };\r\n\r\n    const deleteFaceChange = event => {\r\n        const { id } = event.currentTarget;\r\n        const newFaceChanges = faceChanges.filter(change => change.id !== id);\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    const updateFaceChange = (id, newFaceChange) => {\r\n        const newFaceChanges = faceChanges.map(change =>\r\n            change.id === id ? newFaceChange : change\r\n        );\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    const addFaceChange = () => {\r\n        const blankChange = { id: uuid(), time: \"\", eyeIdx: \"\", mouthIdx: \"\" };\r\n        const newFaceChanges = [...faceChanges, blankChange];\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ChainAni-fields\">\r\n                <TextField\r\n                    onChange={handleParamChange}\r\n                    label=\"Speed\"\r\n                    size=\"small\"\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{\r\n                        type: \"number\",\r\n                        step: 0.25,\r\n                        name: \"timeScale\",\r\n                    }}\r\n                    value={timeScale}\r\n                />\r\n                <TextField\r\n                    onChange={handleParamChange}\r\n                    label=\"Repetitions\"\r\n                    size=\"small\"\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{\r\n                        type: \"number\",\r\n                        name: \"repetitions\",\r\n                    }}\r\n                    value={repetitions}\r\n                />\r\n            </div>\r\n            <ChainAniFace\r\n                openModal={openModal}\r\n                faceChanges={faceChanges}\r\n                deleteFaceChange={deleteFaceChange}\r\n                updateFaceChange={updateFaceChange}\r\n                addFaceChange={addFaceChange}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ChainAniAdvanced;\r\n"],"sourceRoot":""}