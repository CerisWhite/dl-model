(this["webpackJsonpdl-model"]=this["webpackJsonpdl-model"]||[]).push([[64],{495:function(t,e,r){"use strict";r.r(e),r.d(e,"STLExporter",(function(){return n}));var o=r(1),n=function(){};n.prototype={constructor:n,parse:function(t,e){void 0===e&&(e={});var r,n=void 0!==e.binary&&e.binary,i=[],a=0;t.traverse((function(t){if(t.isMesh){var e=t.geometry;if(!0!==e.isBufferGeometry)throw new Error("THREE.STLExporter: Geometry is not of type THREE.BufferGeometry.");var r=e.index,o=e.getAttribute("position");a+=null!==r?r.count/3:o.count/3,i.push({object3d:t,geometry:e})}}));var s=80;if(!0===n){var f=new ArrayBuffer(2*a+3*a*4*4+80+4);(r=new DataView(f)).setUint32(s,a,!0),s+=4}else r="",r+="solid exported\n";for(var u=new o.Vector3,c=new o.Vector3,l=new o.Vector3,p=new o.Vector3,d=new o.Vector3,m=new o.Vector3,y=0,x=i.length;y<x;y++){var b=i[y].object3d,v=i[y].geometry,w=v.index,g=v.getAttribute("position");if(null!==w)for(var V=0;V<w.count;V+=3){h(w.getX(V+0),w.getX(V+1),w.getX(V+2),g,b)}else for(V=0;V<g.count;V+=3){h(V+0,V+1,V+2,g,b)}}return!1===n&&(r+="endsolid exported\n"),r;function h(t,e,o,i,a){u.fromBufferAttribute(i,t),c.fromBufferAttribute(i,e),l.fromBufferAttribute(i,o),!0===a.isSkinnedMesh&&(a.boneTransform(t,u),a.boneTransform(e,c),a.boneTransform(o,l)),u.applyMatrix4(a.matrixWorld),c.applyMatrix4(a.matrixWorld),l.applyMatrix4(a.matrixWorld),function(t,e,o){p.subVectors(o,e),d.subVectors(t,e),p.cross(d).normalize(),m.copy(p).normalize(),!0===n?(r.setFloat32(s,m.x,!0),s+=4,r.setFloat32(s,m.y,!0),s+=4,r.setFloat32(s,m.z,!0),s+=4):(r+="\tfacet normal "+m.x+" "+m.y+" "+m.z+"\n",r+="\t\touter loop\n")}(u,c,l),E(u),E(c),E(l),!0===n?(r.setUint16(s,0,!0),s+=2):(r+="\t\tendloop\n",r+="\tendfacet\n")}function E(t){!0===n?(r.setFloat32(s,t.x,!0),s+=4,r.setFloat32(s,t.y,!0),s+=4,r.setFloat32(s,t.z,!0),s+=4):r+="\t\t\tvertex "+t.x+" "+t.y+" "+t.z+"\n"}}}}}]);
//# sourceMappingURL=64.9bc9c508.chunk.js.map