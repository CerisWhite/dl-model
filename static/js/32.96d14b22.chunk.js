(this["webpackJsonpdl-model"]=this["webpackJsonpdl-model"]||[]).push([[32],{130:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(2),c=t(1),i=t.n(c),r=t(72);function o(e,a){var t=function(a,t){return i.a.createElement(r.a,Object(n.a)({ref:t},a),e)};return t.muiName=r.a.muiName,i.a.memo(i.a.forwardRef(t))}},176:function(e,a,t){"use strict";var n=t(14),c=t(100),i="512px 512px";a.a=function(e,a){for(var t=Array(9).fill().map((function(e,a){return a+1})).map((function(e){return 1===e?[-280,-170]:[-(24+128*((e-2)%4)),-(298+128*Math.floor(e/6))]})),r=e.x,o=e.y,d=128*r,u=128*o,l=function(e){var a=Object(n.a)(t[e-1],2),c=a[0],i=a[1];return"".concat(c-d,"px ").concat(i+u,"px")},s=a.x,h=a.y,m=128*s,j=128*h,b=function(e){var a=Object(n.a)(t[e-1],2),c=a[0],i=a[1];return"".concat(c-m,"px ").concat(i+j-32,"px")},x={root:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"0.5rem",margin:"0.5rem"},faceBox:{display:"flex",flexDirection:"column",cursor:"pointer"},eyeBox:{width:"".concat(64,"px"),height:"".concat(32,"px"),backgroundSize:i,borderRadius:"0.5rem 0.5rem 0 0"},mouthBox:{width:"".concat(64,"px"),height:"".concat(32,"px"),backgroundSize:i,borderRadius:"0 0 0.5rem 0.5rem"}},f=1;f<=9;f++)x["eye".concat(f)]={backgroundPosition:l(f)},x["mouth".concat(f)]={backgroundPosition:b(f)};return Object(c.a)(x)()}},401:function(e,a,t){"use strict";var n=t(63);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=n(t(1)),i=(0,n(t(78)).default)(c.default.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");a.default=i},469:function(e,a,t){"use strict";t.r(a);var n=t(29),c=t(9),i=t(11),r=t(463),o=t(7),d=t(1),u=t(17),l=t(176),s=t(139),h=t.n(s),m=t(39),j=t(59);var b=function(e){var a=e.change,t=a.id,n=a.time,c=a.eyeIdx,o=a.mouthIdx,s=e.deleteFaceChange,b=e.handleChange,x=e.handleClick,f=Object(d.useContext)(u.b).model,v=f.eyeTexture,p=f.mouthTexture,g="".concat(m.b,"/fbx/").concat(v,"/").concat(v,".png"),O="".concat(m.b,"/fbx/").concat(p,"/").concat(p,".png"),C=j.a[v]||{x:0,y:0},y=j.a[p]||{x:0,y:0},F=Object(l.a)(C,y),k=c?Object(i.jsx)("div",{className:"".concat(F["eye".concat(c)]," ").concat(F.eyeBox),style:{backgroundImage:"url(".concat(g,")")}}):"Set",N=o?Object(i.jsx)("div",{className:"".concat(F["mouth".concat(o)]," ").concat(F.mouthBox),style:{backgroundImage:"url(".concat(O,")")}}):"Set";return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"ChainAniFace-delete",onClick:s,id:t,children:Object(i.jsx)(h.a,{})}),Object(i.jsx)(r.a,{onChange:b,inputProps:{type:"number",min:0,max:100,step:1,"data-name":"time","data-id":t},value:n}),Object(i.jsx)("div",{onClick:x,"data-target":"eye","data-id":t,children:k}),Object(i.jsx)("div",{onClick:x,"data-target":"mouth","data-id":t,children:N})]})},x=t(401),f=t.n(x);var v=function(e){var a=e.faceChanges,t=e.deleteFaceChange,n=e.updateFaceChange,r=e.addFaceChange,d=e.openControl,u=function(e){var t=e.currentTarget,i=t.value,r=t.dataset,d=r.id,u=r.name,l=a.find((function(e){return e.id===d})),s=Object(o.a)(Object(o.a)({},l),{},Object(c.a)({},u,i));n(d,s)},l=function(e){var t=e.currentTarget.dataset,i=t.id,r=t.target,u="".concat(r,"Idx");d(r,(function(e){var t=a.find((function(e){return e.id===i})),r=Object(o.a)(Object(o.a)({},t),{},Object(c.a)({},u,e));n(i,r)}))},s=null===a||void 0===a?void 0:a.map((function(e){return Object(i.jsx)(b,{change:e,handleClick:l,deleteFaceChange:t,handleChange:u},e.id)}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"ChainAniFace-title",children:"Facial Expression"}),Object(i.jsxs)("div",{className:"ChainAniFace-list",children:[(null===a||void 0===a?void 0:a.length)>0&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{children:"Time (%)"}),Object(i.jsx)("div",{children:"Eye"}),Object(i.jsx)("div",{children:"Mouth"}),s]}),Object(i.jsx)("div",{className:"ChainAniFace-delete",onClick:r,children:Object(i.jsx)(f.a,{})})]})]})},p=t(121);a.default=function(e){var a=e.timeScale,t=e.repetitions,o=e.faceChanges,d=e.updateParams,u=e.openControl,l=function(e){var a=e.target,t=a.name,n=a.value,i=Object(c.a)({},t,n);d(i)},s=function(e){d({faceChanges:e})};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"ChainAni-fields",children:[Object(i.jsx)(r.a,{onChange:l,label:"Speed",size:"small",margin:"dense",variant:"outlined",inputProps:{type:"number",step:.25,name:"timeScale"},value:a}),Object(i.jsx)(r.a,{onChange:l,label:"Repetitions",size:"small",margin:"dense",variant:"outlined",inputProps:{type:"number",name:"repetitions"},value:t})]}),Object(i.jsx)(v,{openControl:u,faceChanges:o,deleteFaceChange:function(e){var a=e.currentTarget.id,t=o.filter((function(e){return e.id!==a}));s(t)},updateFaceChange:function(e,a){var t=o.map((function(t){return t.id===e?a:t}));s(t)},addFaceChange:function(){var e={id:Object(p.a)(),time:"",eyeIdx:"",mouthIdx:""},a=[].concat(Object(n.a)(o),[e]);s(a)}})]})}}}]);
//# sourceMappingURL=32.96d14b22.chunk.js.map