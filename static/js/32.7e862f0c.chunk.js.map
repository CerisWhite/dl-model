{"version":3,"sources":["../node_modules/@material-ui/icons/Close.js","ChainMaker.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","DisplayAniList","lazy","ChainMaker","openControl","chain","useContext","SettingsContext","chainMaker","dispatch","DispatchContext","applyCode","code","type","key","className","onClick","sideContent","fallback","generateChainCode","singlePlay","event","id","currentTarget","ani","find","a","deleteSingle","length","action","filter","handleChange","target","name","newChain","Math","round"],"mappings":"6GAEA,IAAIA,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,0GACD,SAEJN,EAAQE,QAAUE,G,mICLZG,G,OAAiBC,gBAAK,kBAAM,uEAuGnBC,UArGf,YAAsC,IAAhBC,EAAe,EAAfA,YAEAC,EACdC,qBAAWC,KADXC,WAAcH,MAEZI,EAAWH,qBAAWI,KA8BtBC,EAAY,SAAAC,GAMdH,EALe,CACXI,KAAM,SACNC,IAAK,YACLnB,MAAO,CAAEiB,WAiCjB,OACI,sBAAKG,UAAU,aAAf,UACI,sBAAKA,UAAU,oBAAf,UACI,qBAAKA,UAAU,mBAAf,yBACA,qBAAKA,UAAU,mBAAmBC,QArEhC,WAMVP,EALe,CACXI,KAAM,SACNC,IAAK,MACLnB,MAAO,CAAEsB,YAAa,eAiElB,SACI,cAAC,IAAD,SAGR,eAAC,WAAD,CAAUC,SAAU,0CAApB,UACI,sBAAKH,UAAU,kBAAf,UACI,cAAC,IAAD,CAAQC,QAnBR,WACZ,IAAMJ,EAAOO,YAAkBd,GAC/BM,EAAUC,IAiB4BG,UAAU,iBAApC,sBAGA,cAAC,IAAD,CAAQC,QAjBZ,WACRZ,EAAY,WAgBsBW,UAAU,iBAAhC,oBAIJ,qBAAKA,UAAU,kBAAf,SACI,cAACd,EAAD,CACImB,WA/CD,SAAAC,GAAU,IACjBC,EAAOD,EAAME,cAAbD,GACFE,EAAMnB,EAAMoB,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,KAAOA,KAE/BV,EAAOO,YAAkB,CAACK,IAChCb,EAAUC,IA2CMe,aAxCC,SAAAN,GACjB,GAAqB,IAAjBhB,EAAMuB,OAAV,CAD0B,IAElBN,EAAOD,EAAME,cAAbD,GACFO,EAAS,CACXhB,KAAM,SACNC,IAAK,aACLnB,MAAO,CAAEU,MAAOA,EAAMyB,QAAO,SAAAN,GAAG,OAAIA,EAAIF,KAAOA,OAEnDb,EAASoB,KAiCOE,aA7EC,SAAAV,GAAU,IAAD,EACEA,EAAMW,OAA1BV,EADkB,EAClBA,GAAIW,EADc,EACdA,KAAMtC,EADQ,EACRA,MACduC,EAAQ,YAAO7B,GACbmB,EAAMU,EAAST,MAAK,SAAAC,GAAC,OAAIA,EAAEJ,KAAOA,KACxC,OAAQW,GACJ,IAAK,cACDT,EAAIS,GAAQtC,EAAQ,EAAI,EAAIwC,KAAKC,MAAMzC,GACvC,MACJ,QACI6B,EAAIS,GAAQtC,EAOpBc,EALe,CACXI,KAAM,SACNC,IAAK,aACLnB,MAAO,CAAEU,MAAO6B,MAgEJ7B,MAAOA","file":"static/js/32.7e862f0c.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","import { lazy, Suspense, useContext } from \"react\";\r\n\r\nimport { DispatchContext, SettingsContext } from \"./context/SettingsContext\";\r\n\r\nimport Close from \"@material-ui/icons/Close\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { generateChainCode } from \"./helpers\";\r\n\r\nimport \"./styles/ChainMaker.css\";\r\n\r\nconst DisplayAniList = lazy(() => import(\"./DisplayAniList\"));\r\n\r\nfunction ChainMaker({ openControl }) {\r\n    const {\r\n        chainMaker: { chain },\r\n    } = useContext(SettingsContext);\r\n    const dispatch = useContext(DispatchContext);\r\n\r\n    const close = () => {\r\n        const action = {\r\n            type: \"update\",\r\n            key: \"app\",\r\n            value: { sideContent: \"settings\" },\r\n        };\r\n        dispatch(action);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        const { id, name, value } = event.target;\r\n        let newChain = [...chain];\r\n        const ani = newChain.find(a => a.id === id);\r\n        switch (name) {\r\n            case \"repetitions\":\r\n                ani[name] = value < 0 ? 0 : Math.round(value);\r\n                break;\r\n            default:\r\n                ani[name] = value;\r\n        }\r\n        const action = {\r\n            type: \"update\",\r\n            key: \"chainMaker\",\r\n            value: { chain: newChain },\r\n        };\r\n        dispatch(action);\r\n    };\r\n\r\n    const applyCode = code => {\r\n        const action = {\r\n            type: \"update\",\r\n            key: \"animation\",\r\n            value: { code },\r\n        };\r\n        dispatch(action);\r\n    };\r\n\r\n    const singlePlay = event => {\r\n        const { id } = event.currentTarget;\r\n        const ani = chain.find(a => a.id === id);\r\n\r\n        const code = generateChainCode([ani]);\r\n        applyCode(code);\r\n    };\r\n\r\n    const deleteSingle = event => {\r\n        if (chain.length === 1) return;\r\n        const { id } = event.currentTarget;\r\n        const action = {\r\n            type: \"update\",\r\n            key: \"chainMaker\",\r\n            value: { chain: chain.filter(ani => ani.id !== id) },\r\n        };\r\n        dispatch(action);\r\n    };\r\n\r\n    const playAll = () => {\r\n        const code = generateChainCode(chain);\r\n        applyCode(code);\r\n    };\r\n\r\n    const add = () => {\r\n        openControl(\"addAni\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"ChainMaker\">\r\n            <div className=\"ChainMaker-header\">\r\n                <div className=\"ChainMaker-title\">Chain Maker</div>\r\n                <div className=\"ChainMaker-close\" onClick={close}>\r\n                    <Close />\r\n                </div>\r\n            </div>\r\n            <Suspense fallback={<div>Loading</div>}>\r\n                <div className=\"ChainMaker-btns\">\r\n                    <Button onClick={playAll} className=\"ChainMaker-btn\">\r\n                        Play All\r\n                    </Button>\r\n                    <Button onClick={add} className=\"ChainMaker-btn\">\r\n                        Add\r\n                    </Button>\r\n                </div>\r\n                <div className=\"ChainMaker-list\">\r\n                    <DisplayAniList\r\n                        singlePlay={singlePlay}\r\n                        deleteSingle={deleteSingle}\r\n                        handleChange={handleChange}\r\n                        chain={chain}\r\n                    />\r\n                </div>\r\n            </Suspense>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChainMaker;\r\n"],"sourceRoot":""}