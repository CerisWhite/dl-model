{"version":3,"sources":["MainPage/Sidebar/SidebarBody/ChainMaker/ChainAniAdvanced.js"],"names":["ChainAniFace","lazy","ChainAniAdvanced","props","timeScale","repetitions","faceChanges","updateParams","openModal","viewerType","useSettings","app","handleParamChange","event","target","name","value","updateValue","updateFaceChanges","newFaceChanges","className","onChange","label","size","margin","variant","inputProps","type","step","includes","fallback","deleteFaceChange","id","currentTarget","filter","change","updateFaceChange","newFaceChange","map","addFaceChange","blankChange","nanoid","time","eyeIdx","mouthIdx"],"mappings":"+KAOMA,EAAeC,gBAAK,kBAAM,kCA0FjBC,UAxFf,SAA0BC,GACtB,IAAQC,EACJD,EADIC,UAAWC,EACfF,EADeE,YAAaC,EAC5BH,EAD4BG,YAAaC,EACzCJ,EADyCI,aAAcC,EACvDL,EADuDK,UAIhDC,EACPC,cADAC,IAAOF,WAGLG,EAAoB,SAAAC,GACtB,MAAwBA,EAAMC,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACRC,EAAW,eAAMF,EAAOC,GAC9BT,EAAaU,IAGXC,EAAoB,SAAAC,GAEtBZ,EADoB,CAAED,YAAaa,KA4BvC,OACI,qCACI,sBAAKC,UAAU,kBAAf,UACI,cAAC,IAAD,CACIC,SAAUT,EACVU,MAAM,QACNC,KAAK,QACLC,OAAO,QACPC,QAAQ,WACRC,WAAY,CACRC,KAAM,SACNC,KAAM,IACNb,KAAM,aAEVC,MAAOZ,IAEX,cAAC,IAAD,CACIiB,SAAUT,EACVU,MAAM,cACNC,KAAK,QACLC,OAAO,QACPC,QAAQ,WACRC,WAAY,CACRC,KAAM,SACNZ,KAAM,eAEVC,MAAOX,OAId,CAAC,MAAO,UAAUwB,SAASpB,IACxB,cAAC,WAAD,CAAUqB,SAAU,KAApB,SACI,cAAC9B,EAAD,CACIQ,UAAWA,EACXF,YAAaA,EACbyB,iBA3DK,SAAAlB,GACrB,IAAQmB,EAAOnB,EAAMoB,cAAbD,GACFb,EAAiBb,EAAY4B,QAAO,SAAAC,GAAM,OAAIA,EAAOH,KAAOA,KAClEd,EAAkBC,IAyDFiB,iBAtDK,SAACJ,EAAIK,GAC1B,IAAMlB,EAAiBb,EAAYgC,KAAI,SAAAH,GAAM,OACzCA,EAAOH,KAAOA,EAAKK,EAAgBF,KAEvCjB,EAAkBC,IAmDFoB,cAhDE,WAClB,IAAMC,EAAc,CAChBR,GAAIS,cACJC,KAAM,GACNC,OAAQ,GACRC,SAAU,IAERzB,EAAc,sBAAOb,GAAP,CAAoBkC,IACxCtB,EAAkBC","file":"static/js/64.4b88bd5a.chunk.js","sourcesContent":["import { lazy, Suspense } from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { useSettings } from \"context/SettingsContext\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nconst ChainAniFace = lazy(() => import(\"./ChainAniFace\"));\r\n\r\nfunction ChainAniAdvanced(props) {\r\n    const { timeScale, repetitions, faceChanges, updateParams, openModal } =\r\n        props;\r\n\r\n    const {\r\n        app: { viewerType },\r\n    } = useSettings();\r\n\r\n    const handleParamChange = event => {\r\n        const { name, value } = event.target;\r\n        const updateValue = { [name]: value };\r\n        updateParams(updateValue);\r\n    };\r\n\r\n    const updateFaceChanges = newFaceChanges => {\r\n        const updateValue = { faceChanges: newFaceChanges };\r\n        updateParams(updateValue);\r\n    };\r\n\r\n    const deleteFaceChange = event => {\r\n        const { id } = event.currentTarget;\r\n        const newFaceChanges = faceChanges.filter(change => change.id !== id);\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    const updateFaceChange = (id, newFaceChange) => {\r\n        const newFaceChanges = faceChanges.map(change =>\r\n            change.id === id ? newFaceChange : change\r\n        );\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    const addFaceChange = () => {\r\n        const blankChange = {\r\n            id: nanoid(),\r\n            time: \"\",\r\n            eyeIdx: \"\",\r\n            mouthIdx: \"\",\r\n        };\r\n        const newFaceChanges = [...faceChanges, blankChange];\r\n        updateFaceChanges(newFaceChanges);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ChainAni-fields\">\r\n                <TextField\r\n                    onChange={handleParamChange}\r\n                    label=\"Speed\"\r\n                    size=\"small\"\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{\r\n                        type: \"number\",\r\n                        step: 0.25,\r\n                        name: \"timeScale\",\r\n                    }}\r\n                    value={timeScale}\r\n                />\r\n                <TextField\r\n                    onChange={handleParamChange}\r\n                    label=\"Repetitions\"\r\n                    size=\"small\"\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{\r\n                        type: \"number\",\r\n                        name: \"repetitions\",\r\n                    }}\r\n                    value={repetitions}\r\n                />\r\n            </div>\r\n\r\n            {[\"adv\", \"dragon\"].includes(viewerType) && (\r\n                <Suspense fallback={null}>\r\n                    <ChainAniFace\r\n                        openModal={openModal}\r\n                        faceChanges={faceChanges}\r\n                        deleteFaceChange={deleteFaceChange}\r\n                        updateFaceChange={updateFaceChange}\r\n                        addFaceChange={addFaceChange}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ChainAniAdvanced;\r\n"],"sourceRoot":""}