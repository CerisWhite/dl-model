{"version":3,"sources":["ColorSettings.js"],"names":["ChromePicker","lazy","then","module","default","ColorSettings","initColor","title","commonColor","toggleControlOpen","mode","dispatch","useContext","DispatchContext","settings","SettingsContext","scene","background","commonBG","outline","color","split","key","subkey","useState","setColor","setNewColor","event","value","currentTarget","commonBGBtn","Object","keys","map","onClick","style","backgroundColor","complementaryColor","onClose","dividers","className","colorToSet","action","type","textShadow","fallback","onChangeComplete","hex"],"mappings":"oNAUMA,G,OAAeC,gBAAK,kBACtB,8BAAsBC,MAAK,SAAAC,GAAM,MAAK,CAAEC,QAASD,EAAOH,qBAsG7CK,UAnGf,YAAqD,IAG7CC,EAAWC,EAAOC,EAHDC,EAA2B,EAA3BA,kBAAmBC,EAAQ,EAARA,KAClCC,EAAWC,qBAAWC,KACtBC,EAAWF,qBAAWG,KAE5B,OAAQL,GACJ,IAAK,aACDJ,EAAYQ,EAASE,MAAMC,WAC3BT,EAAcU,IACdX,EAAQ,sBACR,MACJ,IAAK,eACDD,EAAYQ,EAASK,QAAQC,MAC7BZ,EAAc,GACdD,EAAQ,gBACR,MACJ,QAAQ,IAAR,EAC0BG,EAAKW,MAAM,KADrC,mBACWC,EADX,KACgBC,EADhB,KAEIjB,EAAYQ,EAASQ,GAAKC,GAC1Bf,EAAcU,IACdX,EAAQ,eAnBgC,MAqBtBiB,mBAASlB,GArBa,mBAqBzCc,EArByC,KAqBlCK,EArBkC,KAiD1CC,EAAc,SAAAC,GAChB,IAAMC,EAAQD,EAAME,cAAcD,MAClCH,EAASG,IAGPE,EAAcC,OAAOC,KAAKxB,GAAayB,KAAI,SAAAb,GAAK,OAClD,cAAC,IAAD,CACIc,QAASR,EACTS,MAAO,CACHC,gBAAiBlB,IAASE,GAC1BA,MAAOiB,YAAmBnB,IAASE,KAEvCQ,MAAOV,IAASE,GANpB,SASKA,GAFIA,MAMb,OACI,qCACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAakB,QAAS7B,EAAtB,SAA0CF,MAE9C,eAAC,IAAD,CAAegC,UAAQ,EAACC,UAAU,gBAAlC,UACI,sBAAKA,UAAU,oBAAf,UACI,cAAC,IAAD,CACIN,QAjDD,SAAAP,GACf,IAAMC,EAAQD,EAAME,cAAcD,MAC5Ba,EAAuB,WAAVb,EAAqBR,EAAQQ,EAC5Cc,EAAS,CAAEC,KAAM,UACrB,OAAQjC,GACJ,IAAK,aACDgC,EAAOpB,IAAM,QACboB,EAAOd,MAAQ,CAAEX,WAAYwB,GAC7B,MACJ,IAAK,eACDC,EAAOpB,IAAM,UACboB,EAAOd,MAAQ,CAAER,MAAOqB,GACxB,MACJ,QAAQ,IAAR,EAC0B/B,EAAKW,MAAM,KADrC,mBACWC,EADX,KACgBC,EADhB,KAEImB,EAAOpB,IAAMA,EACboB,EAAOd,MAAP,eAAkBL,EAASkB,GAEnC9B,EAAS+B,GACTjC,KA+BgB0B,MAAO,CACHC,gBAAiBhB,EACjBA,MAAOiB,YAAmBjB,GAC1BwB,WAAW,qBAEfhB,MAAM,SAPV,mBAWA,qBAAKY,UAAU,uBAAf,SAAuCV,OAE3C,cAAC,WAAD,CAAUe,SAAU,KAApB,SACI,cAAC7C,EAAD,CACIoB,MAAOA,EACP0B,iBApES,SAAA1B,GACzBK,EAASL,EAAM2B","file":"static/js/29.9f52b55f.chunk.js","sourcesContent":["import { lazy, Suspense, useState, useContext } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport { DialogContent, DialogTitle, DialogTop } from \"./CustomDialog\";\r\nimport { complementaryColor } from \"./helpers\";\r\nimport { commonBG } from \"./consts\";\r\nimport { DispatchContext, SettingsContext } from \"./context/SettingsContext\";\r\n\r\nimport \"./styles/ColorSettings.css\";\r\n\r\nconst ChromePicker = lazy(() =>\r\n    import(\"react-color\").then(module => ({ default: module.ChromePicker }))\r\n);\r\n\r\nfunction ColorSettings({ toggleControlOpen, mode }) {\r\n    const dispatch = useContext(DispatchContext);\r\n    const settings = useContext(SettingsContext);\r\n    let initColor, title, commonColor;\r\n    switch (mode) {\r\n        case \"background\":\r\n            initColor = settings.scene.background;\r\n            commonColor = commonBG;\r\n            title = \"Background Settings\";\r\n            break;\r\n        case \"outlineColor\":\r\n            initColor = settings.outline.color;\r\n            commonColor = {};\r\n            title = \"Outline Color\";\r\n            break;\r\n        default:\r\n            const [key, subkey] = mode.split(\"-\");\r\n            initColor = settings[key][subkey];\r\n            commonColor = commonBG;\r\n            title = \"Pick a Color\";\r\n    }\r\n    const [color, setColor] = useState(initColor);\r\n\r\n    const handleChangeComplete = color => {\r\n        setColor(color.hex);\r\n    };\r\n\r\n    const applyColor = event => {\r\n        const value = event.currentTarget.value;\r\n        const colorToSet = value === \"picker\" ? color : value;\r\n        let action = { type: \"update\" };\r\n        switch (mode) {\r\n            case \"background\":\r\n                action.key = \"scene\";\r\n                action.value = { background: colorToSet };\r\n                break;\r\n            case \"outlineColor\":\r\n                action.key = \"outline\";\r\n                action.value = { color: colorToSet };\r\n                break;\r\n            default:\r\n                const [key, subkey] = mode.split(\"-\");\r\n                action.key = key;\r\n                action.value = { [subkey]: colorToSet };\r\n        }\r\n        dispatch(action);\r\n        toggleControlOpen();\r\n    };\r\n\r\n    const setNewColor = event => {\r\n        const value = event.currentTarget.value;\r\n        setColor(value);\r\n    };\r\n\r\n    const commonBGBtn = Object.keys(commonColor).map(color => (\r\n        <Button\r\n            onClick={setNewColor}\r\n            style={{\r\n                backgroundColor: commonBG[color],\r\n                color: complementaryColor(commonBG[color]),\r\n            }}\r\n            value={commonBG[color]}\r\n            key={color}\r\n        >\r\n            {color}\r\n        </Button>\r\n    ));\r\n\r\n    return (\r\n        <>\r\n            <DialogTop>\r\n                <DialogTitle onClose={toggleControlOpen}>{title}</DialogTitle>\r\n            </DialogTop>\r\n            <DialogContent dividers className=\"ColorSettings\">\r\n                <div className=\"ColorSettings-btn\">\r\n                    <Button\r\n                        onClick={applyColor}\r\n                        style={{\r\n                            backgroundColor: color,\r\n                            color: complementaryColor(color),\r\n                            textShadow: `0px 0px 3px white`,\r\n                        }}\r\n                        value=\"picker\"\r\n                    >\r\n                        Apply\r\n                    </Button>\r\n                    <div className=\"ColorSettings-common\">{commonBGBtn}</div>\r\n                </div>\r\n                <Suspense fallback={null}>\r\n                    <ChromePicker\r\n                        color={color}\r\n                        onChangeComplete={handleChangeComplete}\r\n                    />\r\n                </Suspense>\r\n            </DialogContent>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ColorSettings;\r\n"],"sourceRoot":""}