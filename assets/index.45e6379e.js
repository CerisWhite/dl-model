var G=Object.defineProperty,k=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var T=(a,e,t)=>e in a?G(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,D=(a,e)=>{for(var t in e||(e={}))N.call(e,t)&&T(a,t,e[t]);if(S)for(var t of S(e))Q.call(e,t)&&T(a,t,e[t]);return a},v=(a,e)=>k(a,P(e));import{aF as i,aB as y,ax as s,aI as E}from"./vendor.dead0e45.js";import{u as $}from"./useToggleState.8cff7b60.js";import{u as q,S as z}from"./lists.2be258dc.js";import{F as A}from"./FacePartSelector.f4a07f82.js";import{f as R,c as W,B as H,F as J,a as K}from"./filterConfig.8301821e.js";import{u as O}from"./useAppData.6764ef1c.js";import{G as U}from"./Gallery.35e3bb01.js";import{M as V,C as X,s as n}from"./styles.3c98084a.js";import{L as Y}from"./LoadSpinner.1b65fa94.js";import{E as Z}from"./index.8ad11a6b.js";import{c as _,u as w}from"./categories.870b2a18.js";import{a as ee,D as te}from"./DialogTitle.ba06c24c.js";import{B as x}from"./Box.93a277ea.js";import{I as ae}from"./Close.27d103a5.js";import"./ButtonBase.7e212a37.js";import"./Popover.92ce4ff4.js";import"./TextField.a09e8e5c.js";import"./Selector.b9959e8c.js";import"./GlowToggle.faacaa36.js";import"./MenuItem.8bfdfe3d.js";import"./ToggleGroup.eac58929.js";/* empty css               */import"./DialogContext.3bb3b8e3.js";function se({compact:a,searchQuery:e,filter:t,content:m,onSelect:r}){var g;const u=(g=O(o=>o[`chara-${m}`]))!=null?g:[],d=u.filter(({id:o})=>!o.endsWith("h")),[p,c]=i([]),[j,f]=i(!1);return y(()=>c(d),[m]),y(()=>{f(!0);async function o(){const l=e?await Z(e):d;return await R(l,t)}setTimeout(async()=>{const l=await o();c(l),f(!1)})},[e,t]),u.length&&!j?s(U,{list:p,component:a?V:X,onClick:r}):s(Y,null)}const C=_.find(({value:a})=>a==="chara").options,oe=[],re=v(D({},n.top),{"& .Selector":{margin:"0.1rem 2rem 0.1rem 0"}});function Le({compact:a,onSelect:e,onAfterSelect:t}){const m=!!indexedDB,[r,u]=i(0),d=(B,h)=>u(h),[p,c]=i(""),j=q(p,500);y(()=>{c("")},[r]);const[f,g]=i(oe),[o,l]=i("Both"),[I,L]=$(!0),b=C[r].value==="regular"&&W,F=a||w("(max-width:640px)")||w("(max-height:640px)"),M=E(B=>{const{value:h}=B.currentTarget.dataset;o!=="Eyes"&&e(h,"mouth"),o!=="Mouth"&&e(h,"eye"),t==null||t()},[o]);return s(x,{className:"ModelCatalog",sx:n.root},s(x,{sx:re},s(te,{sx:n.title},"Select Texture"),s(A,{value:o,onClick:l}),s(H,{options:C,selectedIndices:[r],setIndex:d}),s(x,{sx:n.searchFilter},s(x,{sx:n.search},s(z,{key:r[0],query:p,onChange:c,placeholder:m?"Search All":"Search"}),b&&s(ae,{onClick:L,size:"large"},s(J,null))),I&&b&&s(K,{config:b,onChange:g,compact:F}))),s(ee,{sx:n.content},s(se,{compact:F,searchQuery:j,filter:f,content:C[r].value,onSelect:M})))}export{Le as default};
