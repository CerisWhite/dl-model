var T=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var F=(e,c,s)=>c in e?T(e,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[c]=s,p=(e,c)=>{for(var s in c||(c={}))y.call(c,s)&&F(e,s,c[s]);if(x)for(var s of x(c))v.call(c,s)&&F(e,s,c[s]);return e},M=(e,c)=>k(e,C(c));var S=(e,c)=>{var s={};for(var n in e)y.call(e,n)&&c.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&x)for(var n of x(e))c.indexOf(n)<0&&v.call(e,n)&&(s[n]=e[n]);return s};import{a as d,j as t,w as D,b as K,F as f}from"./index.9dc87aba.js";import{aK as j,aD as B}from"./vendor.079a595c.js";import{F as L}from"./FacePartSelector.a37683c1.js";import{E as P,M as U,i as w,b as z,c as $}from"./MeshMouthSelect.90d404d0.js";import{a as b,b as q}from"./DialogTitle.a81b9d2a.js";function A(){const[e,c]=j(0);return[e,()=>c(n=>n+1)]}function G(u){var i=u,{eyeTexture:e,eyeIdx:c,mouthTexture:s,mouthIdx:n}=i,a=S(i,["eyeTexture","eyeIdx","mouthTexture","mouthIdx"]);return d("div",M(p({className:"FaceBox"},a),{children:[t(P,{texture:e,index:c}),t(U,{texture:s,index:n})]}))}function H({target:e,onSelect:c}){const s=e==null?void 0:e.face;if(!s||(s==null?void 0:s.type)!=="uv")return t("h2",{children:"Not Available"});const[n,a]=A();B(()=>{const o=s.addEventListener("change",({propName:l})=>{(l.includes("Base")||l.includes("Texture"))&&a()});return()=>s.removeEventListener("change",o)},[]);const u=D(),[i,h]=j("Both");B(()=>!u&&a(),[i]);const r=o=>{const{index:l}=o.currentTarget.dataset;i!=="Eyes"&&c(l,"mouth"),i!=="Mouth"&&c(l,"eye")},{eyeBaseIdx:m,eyeTexture:E,mouthBaseIdx:I,mouthTexture:N}=s;return d("div",{className:"UvFaceSelect",children:[t(L,{value:i,onClick:h}),t("div",{className:"FaceBoxes",children:w.map(o=>t(G,{eyeTexture:E,eyeIdx:i==="Mouth"?m:o,mouthTexture:N,mouthIdx:i==="Eyes"?I:o,"data-index":o,onClick:r}))},n)]})}function J({target:e,onSelect:c}){var n,a;const s=e==null?void 0:e.face;return(s==null?void 0:s.type)==="meshes"&&d("div",{className:"MeshFaceSelect",children:[((n=s==null?void 0:s.eyeList)==null?void 0:n.length)>0&&t(z,{target:e,onSelect:c}),((a=s==null?void 0:s.mouthList)==null?void 0:a.length)>0&&t($,{target:e,onSelect:c})]})}const O={uv:H,meshes:J},Q={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function _({target:e,onSelect:c,onAfterSelect:s}){var h,r;const{activeModel:n}=K();e!=null||(e=n);const a=(h=e==null?void 0:e.face)==null?void 0:h.type,u=(r=O[a])!=null?r:()=>t(f,{}),i=(...m)=>{c(...m),s==null||s()};return(e==null?void 0:e.face)?d("div",{className:"FaceSelect",children:[t(b,{sx:{textAlign:"center"},children:"Face Select"}),t(q,{sx:{padding:"1rem"},children:t(u,{target:e,onSelect:i})})]}):d(f,{children:[t(b,{sx:{textAlign:"center"},children:"Face Select"}),t("div",{style:Q,children:"Not available"})]})}export{_ as F,A as u};
