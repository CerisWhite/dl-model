var A=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var F=(o,e,t)=>e in o?A(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,y=(o,e)=>{for(var t in e||(e={}))E.call(e,t)&&F(o,t,e[t]);if(v)for(var t of v(e))Q.call(e,t)&&F(o,t,e[t]);return o};import{aV as $,aE as f,aA as C,aw as a,aH as q}from"./vendor.6e9578ac.js";import{x as z,y as H,i as P}from"./index.1318b7ab.js";import{u as R,S as V}from"./lists.162f8292.js";import{f as W,B as J,F as K,a as O}from"./filterConfig.9e8ce4da.js";import{G as U}from"./GlowToggle.551c3de4.js";import{b as X}from"./useAppData.73a56271.js";import{G as Y}from"./Gallery.dbd03ec5.js";import{M,C as Z,s as c}from"./styles.84102382.js";import{L as _}from"./LoadSpinner.75a5554a.js";import{g as tt}from"./index.a27477a1.js";import{c as G,u as T}from"./categories.009fb4ea.js";import{B as j}from"./Box.6f94ef00.js";import{D as et,a as ot}from"./DialogTitle.cc60d57c.js";import{I as at}from"./Close.06091897.js";import"./ButtonBase.1d694aee.js";import"./Popover.9582b5b9.js";import"./MenuItem.6d272d1e.js";import"./ToggleGroup.f193a625.js";import"./DialogContext.517474c5.js";const st=[],nt=["w","b"],it=o=>nt.some(e=>o.startsWith(e)),rt=o=>it(o.id)?a(M,y({},o)):a(Z,y({},o));function lt({compact:o,content:e,searchQuery:t,searchAll:s,filter:n=st,onSelect:i}){var u;const l=(u=X(g=>g[e]))!=null?u:[],[r,d]=f([]),[x,m]=f(!1);return C(()=>d(l),[e]),C(()=>{m(!0);async function g(){if(s)return t?await z(t):l;const p=await H(l,t);return await W(p,n)}setTimeout(async()=>{const p=await g();d(p),m(!1)})},[t,n,s]),l.length&&!x?a(Y,{list:r,component:o?M:rt,onClick:i}):a(_,null)}var ct=$(lt);const dt=o=>{let e=G;const t=[];return o.forEach(s=>{const n=e[s],i=n==null?void 0:n.value;i!==void 0&&(t.push(i),e=n.options)}),t.join("-")},L=[];function St({compact:o,onSelect:e=()=>{},onAfterSelect:t}){const{indices:s,setIndex:n,showFilter:i,toggleFilter:l,searchAll:r,toggleSearchAll:d}=P(),x=!!indexedDB,[m,u]=f(""),g=R(m,500),[p,b]=f(L),B=o||T("(max-width:640px)")||T("(max-height:640px)"),S=q(k=>{const{value:I,name:N}=k.currentTarget.dataset;e(I,N),t==null||t()},[]),w=dt(s),h=tt(w);C(()=>b(L),[i,s]),C(()=>{u(""),r&&d()},[s]);const D=s.join();return a(j,{className:"ModelCatalog",sx:c.root},a(j,{sx:c.top},a(et,{sx:c.title},"Model Select"),a(J,{options:G,selectedIndices:s,setIndex:n}),a(j,{sx:c.searchFilter},a(j,{sx:c.search},x&&a(U,{type:"text",value:"All",checked:r,onClick:d}),a(V,{key:D,query:m,onChange:u}),h&&!r&&a(at,{onClick:l,size:"large"},a(K,null))),!r&&i&&h&&a(O,{key:D,config:h,onChange:b,compact:B}))),a(ot,{sx:c.content},a(ct,{compact:B,searchQuery:g,filter:p,content:w,onSelect:S,searchAll:r})))}export{St as default};
