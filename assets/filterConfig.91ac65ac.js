var mt=Object.defineProperty,pt=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable;var q=(t,e,s)=>e in t?mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,W=(t,e)=>{for(var s in e||(e={}))ft.call(e,s)&&q(t,s,e[s]);if(X)for(var s of X(e))gt.call(e,s)&&q(t,s,e[s]);return t},K=(t,e)=>pt(t,ut(e));import{aH as U,aN as _,aA as yt,aS as bt,aF as Q,ax as l,aD as Z,aJ as ht,az as It,aB as vt}from"./vendor.9f6163a0.js";import{i as xt,M as Ct,L as Lt}from"./useAppData.85e44b61.js";import{l as tt,g as St,M as At}from"./MenuItem.b766bf0c.js";import{g as et,a as V,s as F,h as c,l as D,_ as $,i as z,e as f,c as N,p as j,f as Tt,b as kt,B as Pt}from"./ButtonBase.c225fa6f.js";import{L as M,i as st,c as Nt}from"./Popover.1a97395e.js";import{T as w}from"./DialogTitle.53792fff.js";import{B as Mt}from"./Box.298973f2.js";import{T as Rt}from"./ToggleGroup.c22f3fdd.js";import{W as ot,R as nt,E as at,F as Et,a as Bt}from"./lists.ab417253.js";function Ft(t){return et("MuiListItem",t)}const $t=V("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var T=$t;const jt=V("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var wt=jt;function Gt(t){return et("MuiListItemSecondaryAction",t)}V("MuiListItemSecondaryAction",["root","disableGutters"]);const Ot=["className"],Wt=t=>{const{disableGutters:e,classes:s}=t;return z({root:["root",e&&"disableGutters"]},Gt,s)},Ut=F("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.disableGutters&&e.disableGutters]}})(({ownerState:t})=>c({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),rt=U(function(e,s){const o=D({props:e,name:"MuiListItemSecondaryAction"}),{className:n}=o,a=$(o,Ot),r=_(M),i=c({},o,{disableGutters:r.disableGutters}),d=Wt(i);return f(Ut,c({className:N(d.root,n),ownerState:i,ref:s},a))});rt.muiName="ListItemSecondaryAction";var _t=rt;const Vt=["className"],Dt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],zt=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters,!s.disablePadding&&e.padding,s.button&&e.button,s.hasSecondaryAction&&e.secondaryAction]},Ht=t=>{const{alignItems:e,button:s,classes:o,dense:n,disabled:a,disableGutters:r,disablePadding:i,divider:d,hasSecondaryAction:g,selected:y}=t;return z({root:["root",n&&"dense",!r&&"gutters",!i&&"padding",d&&"divider",a&&"disabled",s&&"button",e==="flex-start"&&"alignItemsFlexStart",g&&"secondaryAction",y&&"selected"],container:["container"]},Ft,o)},Yt=F("div",{name:"MuiListItem",slot:"Root",overridesResolver:zt})(({theme:t,ownerState:e})=>c({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&c({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${wt.root}`]:{paddingRight:48}},{[`&.${T.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${T.selected}`]:{backgroundColor:j(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${T.focusVisible}`]:{backgroundColor:j(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${T.disabled}`]:{opacity:t.palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.selected}:hover`]:{backgroundColor:j(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:j(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Jt=F("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Xt=U(function(e,s){const o=D({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:a=!1,button:r=!1,children:i,className:d,component:g,components:y={},componentsProps:C={},ContainerComponent:L="li",ContainerProps:{className:I}={},dense:u=!1,disabled:p=!1,disableGutters:b=!1,disablePadding:h=!1,divider:m=!1,focusVisibleClassName:S,secondaryAction:E,selected:it=!1}=o,ct=$(o.ContainerProps,Vt),lt=$(o,Dt),dt=_(M),G={dense:u||dt.dense||!1,alignItems:n,disableGutters:b},O=yt(null);Tt(()=>{a&&O.current&&O.current.focus()},[a]);const A=bt.toArray(i),H=A.length&&xt(A[A.length-1],["ListItemSecondaryAction"]),k=c({},o,{alignItems:n,autoFocus:a,button:r,dense:G.dense,disabled:p,disableGutters:b,disablePadding:h,divider:m,hasSecondaryAction:H,selected:it}),Y=Ht(k),J=kt(O,s),B=y.Root||Yt,P=C.root||{},v=c({className:N(Y.root,P.className,d),disabled:p},lt);let x=g||"li";return r&&(v.component=g||"div",v.focusVisibleClassName=N(T.focusVisible,S),x=Pt),H?(x=!v.component&&!g?"div":x,L==="li"&&(x==="li"?x="div":v.component==="li"&&(v.component="div")),f(M.Provider,{value:G,children:f(Jt,c({as:L,className:N(Y.container,I),ref:J,ownerState:k},ct,{children:[f(B,c({},P,!st(B)&&{as:x,ownerState:c({},k,P.ownerState)},v,{children:A})),A.pop()]}))})):f(M.Provider,{value:G,children:f(B,c({},P,{as:x,ref:J,ownerState:k},!st(B)&&{ownerState:c({},k,P.ownerState)},v,{children:[A,E&&f(_t,{children:E})]}))})});var qt=Xt;const Kt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Qt=t=>{const{classes:e,inset:s,primary:o,secondary:n,dense:a}=t;return z({root:["root",s&&"inset",a&&"dense",o&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},St,e)},Zt=F("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${tt.primary}`]:e.primary},{[`& .${tt.secondary}`]:e.secondary},e.root,s.inset&&e.inset,s.primary&&s.secondary&&e.multiline,s.dense&&e.dense]}})(({ownerState:t})=>c({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),te=U(function(e,s){const o=D({props:e,name:"MuiListItemText"}),{children:n,className:a,disableTypography:r=!1,inset:i=!1,primary:d,primaryTypographyProps:g,secondary:y,secondaryTypographyProps:C}=o,L=$(o,Kt),{dense:I}=_(M);let u=d!=null?d:n,p=y;const b=c({},o,{disableTypography:r,inset:i,primary:!!u,secondary:!!p,dense:I}),h=Qt(b);return u!=null&&u.type!==w&&!r&&(u=f(w,c({variant:I?"body2":"body1",className:h.primary,component:"span",display:"block"},g,{children:u}))),p!=null&&p.type!==w&&!r&&(p=f(w,c({variant:"body2",className:h.secondary,color:"text.secondary",display:"block"},C,{children:p}))),f(Zt,c({className:N(h.root,a),ownerState:b,ref:s},L,{children:[u,p]}))});var ee=te;const R={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{textAlign:"center","&[data-multi]::after":{content:'"\u25BC"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}};function se({level:t=0,selectedIndices:e,options:s,setIndex:o}){var h;const[n,a]=Q(null),r=s.length>1,i=m=>{a(m.currentTarget)},d=m=>{const{level:S,index:E}=m.target.dataset;o(parseInt(S),parseInt(E)),a(null)},g=()=>{a(null)};e[t]===void 0&&o(t,0);const y=(h=e[t])!=null?h:0,{label:C,value:L,icon:I,options:u}=s[y],p=m=>l("img",K(W({},m),{style:R.icon})),b=l(Z,null,l(Lt,{disablePadding:!0,sx:R.list},l(qt,{"data-multi":r,sx:R.listItem,onClick:i},I&&l(p,{alt:L,src:I}),l(ee,{primary:`${C}`}))),r&&l(Ct,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:g},s.map((m,S)=>l(At,{key:m.value,selected:S===y,onClick:d,sx:R.menuItem,"data-index":S,"data-level":t},m.icon&&l(p,{alt:m.value,src:m.icon}),m.label))),u&&l(se,{options:u,selectedIndices:e,level:t+1,setIndex:o}));return t===0?l(Mt,{className:"Breadcrumbs",sx:R.box},b):b}const oe=(t,e)=>s=>{const o=s[t],n=o==null?void 0:o[e];n!==void 0&&(o[e]=!n,Object.values(o).every(Boolean)&&Object.keys(o).forEach(a=>o[a]=!1))};function ne(t){const e=ht(()=>ae(t),[t]),[s,o]=Q(e);return[s,(r,i)=>o(d=>It(d,oe(r,i))),()=>o(e)]}function ae(t){const e=t.map(({name:s,options:o})=>{const n=o.map(r=>[r,!1]),a=Object.fromEntries(n);return[s,a]});return Object.fromEntries(e)}const re=t=>Object.entries(t).map(([o,n])=>[o,Object.keys(n).filter(a=>n[a])]).filter(([,o])=>o.length);function he({config:t,onChange:e,compact:s}){if(!t)return l(Z,null);const[o,n,a]=ne(t);vt(()=>{const i=re(o);e(i)},[o]);const r=t.map((i,d)=>l(Rt,W({key:d,state:o[i.name],toggle:n},i)));return l("div",{className:"Filter","data-compact":s},r,l("button",{className:"Filter-reset",onClick:a},l("span",null,"Reset")))}var Ie=Nt(f("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");function ie(){return new Worker("/dl-model/assets/filterWorker.9787b4d9.js",{type:"module"})}function ve(t,e){if(!e.length)return t;const s=new ie;return new Promise(o=>{s.addEventListener("message",n=>{s.terminate(),o(n.data)}),s.postMessage({fullList:t,conditions:e})})}const xe=[{name:"weapon",type:"icon",options:ot},{name:"rarity",type:"icon",options:nt},{name:"element",type:"icon",options:at}],Ce=[{name:"rarity",type:"icon",options:nt},{name:"element",type:"icon",options:at}],Le=[{name:"weapon",type:"icon",options:ot},{name:"rarity",type:"icon",options:Et},{name:"element",type:"icon",options:Bt}];export{se as B,Ie as F,he as a,xe as c,Ce as d,ve as f,Le as w};
