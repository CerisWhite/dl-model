var me=Object.defineProperty,pe=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var J=(e,t,s)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,W=(e,t)=>{for(var s in t||(t={}))ge.call(t,s)&&J(e,s,t[s]);if(q)for(var s of q(t))ye.call(t,s)&&J(e,s,t[s]);return e},K=(e,t)=>pe(e,ue(t));import{aH as U,aO as _,aC as fe,aT as be,aG as Q,aI as he,aB as Ie,aD as ve}from"./vendor.7867cdc7.js";import{j as i,a as x,F as Z}from"./index.8ee699b6.js";import{i as xe,L as Ce,M as Le}from"./TextField.50679dec.js";import{g as ee,a as V,s as F,_ as l,u as D,b as B,e as H,f as N,y as $,n as Se,i as Te,B as Ae}from"./ButtonBase.976c7cea.js";import{L as M,i as te,c as Pe}from"./Popover.1f219849.js";import{l as se,g as ke,M as Ne}from"./MenuItem.7636004e.js";import{T as w}from"./DialogTitle.eec473bb.js";import{B as Me}from"./Box.09ff57b9.js";import{T as Re}from"./ToggleGroup.8af3e59a.js";import{W as oe,R as ne,E as ae,F as je,a as Ee}from"./lists.75b03b28.js";function Fe(e){return ee("MuiListItem",e)}const Be=V("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var A=Be;const $e=V("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var we=$e;function Ge(e){return ee("MuiListItemSecondaryAction",e)}V("MuiListItemSecondaryAction",["root","disableGutters"]);const Oe=["className"],We=e=>{const{disableGutters:t,classes:s}=e;return H({root:["root",t&&"disableGutters"]},Ge,s)},Ue=F("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>l({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),re=U(function(t,s){const o=D({props:t,name:"MuiListItemSecondaryAction"}),{className:n}=o,a=B(o,Oe),r=_(M),c=l({},o,{disableGutters:r.disableGutters}),d=We(c);return i(Ue,l({className:N(d.root,n),ownerState:c,ref:s},a))});re.muiName="ListItemSecondaryAction";var _e=re;const Ve=["className"],De=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],He=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},ze=e=>{const{alignItems:t,button:s,classes:o,dense:n,disabled:a,disableGutters:r,disablePadding:c,divider:d,hasSecondaryAction:g,selected:y}=e;return H({root:["root",n&&"dense",!r&&"gutters",!c&&"padding",d&&"divider",a&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",g&&"secondaryAction",y&&"selected"],container:["container"]},Fe,o)},Ye=F("div",{name:"MuiListItem",slot:"Root",overridesResolver:He})(({theme:e,ownerState:t})=>l({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&l({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${we.root}`]:{paddingRight:48}},{[`&.${A.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${A.selected}`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${A.focusVisible}`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${A.disabled}`]:{opacity:e.palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A.selected}:hover`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Xe=F("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),qe=U(function(t,s){const o=D({props:t,name:"MuiListItem"}),{alignItems:n="center",autoFocus:a=!1,button:r=!1,children:c,className:d,component:g,components:y={},componentsProps:C={},ContainerComponent:L="li",ContainerProps:{className:h}={},dense:u=!1,disabled:p=!1,disableGutters:f=!1,disablePadding:b=!1,divider:m=!1,focusVisibleClassName:S,secondaryAction:j,selected:ie=!1}=o,ce=B(o.ContainerProps,Ve),le=B(o,De),de=_(M),G={dense:u||de.dense||!1,alignItems:n,disableGutters:f},O=fe(null);Se(()=>{a&&O.current&&O.current.focus()},[a]);const T=be.toArray(c),z=T.length&&xe(T[T.length-1],["ListItemSecondaryAction"]),P=l({},o,{alignItems:n,autoFocus:a,button:r,dense:G.dense,disabled:p,disableGutters:f,disablePadding:b,divider:m,hasSecondaryAction:z,selected:ie}),Y=ze(P),X=Te(O,s),E=y.Root||Ye,k=C.root||{},I=l({className:N(Y.root,k.className,d),disabled:p},le);let v=g||"li";return r&&(I.component=g||"div",I.focusVisibleClassName=N(A.focusVisible,S),v=Ae),z?(v=!I.component&&!g?"div":v,L==="li"&&(v==="li"?v="div":I.component==="li"&&(I.component="div")),i(M.Provider,{value:G,children:x(Xe,l({as:L,className:N(Y.container,h),ref:X,ownerState:P},ce,{children:[i(E,l({},k,!te(E)&&{as:v,ownerState:l({},P,k.ownerState)},I,{children:T})),T.pop()]}))})):i(M.Provider,{value:G,children:x(E,l({},k,{as:v,ref:X,ownerState:P},!te(E)&&{ownerState:l({},P,k.ownerState)},I,{children:[T,j&&i(_e,{children:j})]}))})});var Je=qe;const Ke=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Qe=e=>{const{classes:t,inset:s,primary:o,secondary:n,dense:a}=e;return H({root:["root",s&&"inset",a&&"dense",o&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},ke,t)},Ze=F("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${se.primary}`]:t.primary},{[`& .${se.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:e})=>l({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),et=U(function(t,s){const o=D({props:t,name:"MuiListItemText"}),{children:n,className:a,disableTypography:r=!1,inset:c=!1,primary:d,primaryTypographyProps:g,secondary:y,secondaryTypographyProps:C}=o,L=B(o,Ke),{dense:h}=_(M);let u=d!=null?d:n,p=y;const f=l({},o,{disableTypography:r,inset:c,primary:!!u,secondary:!!p,dense:h}),b=Qe(f);return u!=null&&u.type!==w&&!r&&(u=i(w,l({variant:h?"body2":"body1",className:b.primary,component:"span",display:"block"},g,{children:u}))),p!=null&&p.type!==w&&!r&&(p=i(w,l({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},C,{children:p}))),x(Ze,l({className:N(b.root,a),ownerState:f,ref:s},L,{children:[u,p]}))});var tt=et;const R={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{textAlign:"center","&[data-multi]::after":{content:'"\u25BC"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}};function st({level:e=0,selectedIndices:t,options:s,setIndex:o}){var b;const[n,a]=Q(null),r=s.length>1,c=m=>{a(m.currentTarget)},d=m=>{const{level:S,index:j}=m.target.dataset;o(parseInt(S),parseInt(j)),a(null)},g=()=>{a(null)};t[e]===void 0&&o(e,0);const y=(b=t[e])!=null?b:0,{label:C,value:L,icon:h,options:u}=s[y],p=m=>i("img",K(W({},m),{style:R.icon})),f=x(Z,{children:[i(Ce,{disablePadding:!0,sx:R.list,children:x(Je,{"data-multi":r,sx:R.listItem,onClick:c,children:[h&&i(p,{alt:L,src:h}),i(tt,{primary:`${C}`})]})}),r&&i(Le,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:g,children:s.map((m,S)=>x(Ne,{selected:S===y,onClick:d,sx:R.menuItem,"data-index":S,"data-level":e,children:[m.icon&&i(p,{alt:m.value,src:m.icon}),m.label]},m.value))}),u&&i(st,{options:u,selectedIndices:t,level:e+1,setIndex:o})]});return e===0?i(Me,{className:"Breadcrumbs",sx:R.box,children:f}):f}const ot=(e,t)=>s=>{const o=s[e],n=o==null?void 0:o[t];n!==void 0&&(o[t]=!n,Object.values(o).every(Boolean)&&Object.keys(o).forEach(a=>o[a]=!1))};function nt(e){const t=he(()=>at(e),[e]),[s,o]=Q(t);return[s,(r,c)=>o(d=>Ie(d,ot(r,c))),()=>o(t)]}function at(e){const t=e.map(({name:s,options:o})=>{const n=o.map(r=>[r,!1]),a=Object.fromEntries(n);return[s,a]});return Object.fromEntries(t)}const rt=e=>Object.entries(e).map(([o,n])=>[o,Object.keys(n).filter(a=>n[a])]).filter(([,o])=>o.length);function It({config:e,onChange:t,compact:s}){if(!e)return i(Z,{});const[o,n,a]=nt(e);ve(()=>{const c=rt(o);t(c)},[o]);const r=e.map((c,d)=>i(Re,W({state:o[c.name],toggle:n},c),d));return x("div",{className:"Filter","data-compact":s,children:[r,i("button",{className:"Filter-reset",onClick:a,children:i("span",{children:"Reset"})})]})}var vt=Pe(i("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");function it(){return new Worker("/dl-model/assets/filterWorker.9787b4d9.js",{type:"module"})}function xt(e,t){if(!t.length)return e;const s=new it;return new Promise(o=>{s.addEventListener("message",n=>{s.terminate(),o(n.data)}),s.postMessage({fullList:e,conditions:t})})}const Ct=[{name:"weapon",type:"icon",options:oe},{name:"rarity",type:"icon",options:ne},{name:"element",type:"icon",options:ae}],Lt=[{name:"rarity",type:"icon",options:ne},{name:"element",type:"icon",options:ae}],St=[{name:"weapon",type:"icon",options:oe},{name:"rarity",type:"icon",options:je},{name:"element",type:"icon",options:Ee}];export{st as B,vt as F,It as a,Ct as c,Lt as d,xt as f,St as w};
