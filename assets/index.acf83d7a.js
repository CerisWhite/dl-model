var A=Object.defineProperty;var v=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var F=(a,e,t)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,b=(a,e)=>{for(var t in e||(e={}))E.call(e,t)&&F(a,t,e[t]);if(v)for(var t of v(e))Q.call(e,t)&&F(a,t,e[t]);return a};import{aV as $,aE as p,aA as C,aw as o,aH as q}from"./vendor.fe894b4a.js";import{x as z,y as H,i as P}from"./index.6c87aaf3.js";import{u as R,S as V}from"./lists.8b7a2f8d.js";import{f as W,B as J,F as K,a as O}from"./filterConfig.45758633.js";import{G as U}from"./GlowToggle.82bde0aa.js";import{b as X}from"./useAppData.977799ba.js";import{G as Y}from"./Gallery.e9fc7a5e.js";import{M,C as Z,s as c}from"./styles.9201aeb9.js";import{L as _,I as tt}from"./LoadSpinner.a05eea0f.js";import{g as et}from"./index.89b1eb78.js";import{c as G,u as T}from"./categories.52451c2b.js";import{B as x}from"./Box.5574f6c8.js";import{D as at,a as ot}from"./DialogTitle.30aca7f1.js";import"./ButtonBase.415db68d.js";import"./Popover.81573183.js";import"./MenuItem.dd1ea573.js";import"./ToggleGroup.7df67400.js";import"./DialogContext.e1e8d0f9.js";const st=[],nt=["w","b"],it=a=>nt.some(e=>a.startsWith(e)),rt=a=>it(a.id)?o(M,b({},a)):o(Z,b({},a));function lt({compact:a,content:e,searchQuery:t,searchAll:s,filter:n=st,onSelect:i}){var u;const l=(u=X(f=>f[e]))!=null?u:[],[r,d]=p([]),[h,m]=p(!1);return C(()=>d(l),[e]),C(()=>{m(!0);async function f(){if(s)return t?await z(t):l;const g=await H(l,t);return await W(g,n)}setTimeout(async()=>{const g=await f();d(g),m(!1)})},[t,n,s]),l.length&&!h?o(Y,{list:r,component:a?M:rt,onClick:i}):o(_,null)}var ct=$(lt);const dt=a=>{let e=G;const t=[];return a.forEach(s=>{const n=e[s],i=n==null?void 0:n.value;i!==void 0&&(t.push(i),e=n.options)}),t.join("-")},L=[];function Lt({compact:a,onSelect:e=()=>{},onAfterSelect:t}){const{indices:s,setIndex:n,showFilter:i,toggleFilter:l,searchAll:r,toggleSearchAll:d}=P(),h=!!indexedDB,[m,u]=p(""),f=R(m,500),[g,y]=p(L),B=a||T("(max-width:640px)")||T("(max-height:640px)"),S=q(k=>{const{value:I,name:N}=k.currentTarget.dataset;e(I,N),t==null||t()},[]),w=dt(s),j=et(w);C(()=>y(L),[i,s]),C(()=>{u(""),r&&d()},[s]);const D=s.join();return o(x,{className:"ModelCatalog",sx:c.root},o(x,{sx:c.top},o(at,{sx:c.title},"Model Select"),o(J,{options:G,selectedIndices:s,setIndex:n}),o(x,{sx:c.searchFilter},o(x,{sx:c.search},h&&o(U,{type:"text",value:"All",checked:r,onClick:d}),o(V,{key:D,query:m,onChange:u}),j&&!r&&o(tt,{onClick:l,size:"large"},o(K,null))),!r&&i&&j&&o(O,{key:D,config:j,onChange:y,compact:B}))),o(ot,{sx:c.content},o(ct,{compact:B,searchQuery:f,filter:g,content:w,onSelect:S,searchAll:r})))}export{Lt as default};
