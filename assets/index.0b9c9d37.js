var G=Object.defineProperty,k=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var T=(s,e,t)=>e in s?G(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,D=(s,e)=>{for(var t in e||(e={}))N.call(e,t)&&T(s,t,e[t]);if(S)for(var t of S(e))Q.call(e,t)&&T(s,t,e[t]);return s},v=(s,e)=>k(s,P(e));import{aF as i,aB as C,ax as a,aI as A}from"./vendor.ffd395ab.js";import{u as E}from"./useToggleState.e0992616.js";import{u as $,S as q}from"./lists.ffd52334.js";import{F as z}from"./FacePartSelector.5e59d4bf.js";import{f as R,c as W,B as H,F as J,a as K}from"./filterConfig.233952f4.js";import{u as O}from"./useAppData.d907c9bc.js";import{G as U}from"./Gallery.edc5b06e.js";import{M as V,C as X,s as n}from"./styles.e6570021.js";import{L as Y}from"./LoadSpinner.d8b7e4fc.js";import{E as Z}from"./index.10d263a6.js";import{c as _,u as w}from"./categories.fe9f39ad.js";import{a as ee,D as te}from"./DialogTitle.3ac1c173.js";import{B as x}from"./Box.d6d5f65e.js";import{I as se}from"./Close.ca078ff9.js";import"./ButtonBase.e40964c1.js";import"./Popover.80b4a490.js";import"./TextField.6c373f07.js";import"./Selector.7174f26a.js";import"./GlowToggle.bc6a2cea.js";import"./MenuItem.4633d262.js";import"./ToggleGroup.6cf28cff.js";/* empty css               */import"./DialogContext.619db339.js";function ae({compact:s,searchQuery:e,filter:t,content:m,onSelect:r}){var g;const d=(g=O(o=>o[`chara-${m}`]))!=null?g:[],u=d.filter(({id:o})=>!o.endsWith("h")),[f,c]=i([]),[j,p]=i(!1);return C(()=>c(u),[m]),C(()=>{p(!0);async function o(){const l=e?await Z(e):u;return await R(l,t)}setTimeout(async()=>{const l=await o();c(l),p(!1)})},[e,t]),d.length&&!j?a(U,{list:f,component:s?V:X,onClick:r}):a(Y,null)}const b=_.find(({value:s})=>s==="chara").options,oe=[],re=v(D({},n.top),{"& .Selector":{margin:"0.1rem 2rem 0.1rem 0"}});function Le({compact:s,onSelect:e,onAfterSelect:t}){const m=!!indexedDB,[r,d]=i(0),u=(B,h)=>d(h),[f,c]=i(""),j=$(f,500);C(()=>{c("")},[r]);const[p,g]=i(oe),[o,l]=i("Both"),[I,L]=E(!0),y=b[r].value==="regular"&&W,F=s||w("(max-width:640px)")||w("(max-height:640px)"),M=A(B=>{const{value:h}=B.currentTarget.dataset;o!=="Eyes"&&e(h,"mouth"),o!=="Mouth"&&e(h,"eye"),t==null||t()},[o]);return a(x,{className:"ModelCatalog",sx:n.root},a(x,{sx:re},a(te,{sx:n.title},"Select Texture"),a(z,{value:o,onClick:l}),a(H,{options:b,selectedIndices:[r],setIndex:u}),a(x,{sx:n.searchFilter},a(x,{sx:n.search},a(q,{key:r[0],query:f,onChange:c,placeholder:m?"Search All":"Search"}),y&&a(se,{onClick:L,size:"large"},a(J,null))),I&&y&&a(K,{config:y,onChange:g,compact:F}))),a(ee,{sx:n.content},a(ae,{compact:F,searchQuery:j,filter:p,content:b[r].value,onSelect:M})))}export{Le as default};
