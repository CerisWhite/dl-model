var pe=Object.defineProperty,ue=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var J=(e,t,s)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,O=(e,t)=>{for(var s in t||(t={}))fe.call(t,s)&&J(e,s,t[s]);if(q)for(var s of q(t))ye.call(t,s)&&J(e,s,t[s]);return e},K=(e,t)=>ue(e,ge(t));import{a7 as W,ae as _,s as be,al as he,ab as Q,ad as ve,a4 as Ie,y as xe}from"./vendor.10b98a91.js";import{j as c,a as I,F as Z}from"./index.6f7ac1b3.js";import{i as Ce,L as Le,M as Se}from"./Gallery.f8e99007.js";import{g as ee,b as U,s as j,a as d,f as V,_ as E,h as D,i as P,v as $,n as Te,u as Ae,B as ke}from"./ButtonBase.eb0ad150.js";import{L as N,i as te}from"./Popover.6edabf37.js";import{l as se,g as Pe,M as Ne}from"./MenuItem.1487ef3f.js";import{T as F}from"./DialogTitle.f8453cb9.js";import{B as Me}from"./Box.226c5a31.js";import{G as Re}from"./GlowToggle.6e410d3e.js";import{c as je}from"./createSvgIcon.9994275d.js";import{W as oe,R as ne,E as ae,F as Ee,a as $e}from"./lists.feb96b4e.js";function Fe(e){return ee("MuiListItem",e)}const we=U("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var T=we;const Be=U("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var Ge=Be;function Oe(e){return ee("MuiListItemSecondaryAction",e)}U("MuiListItemSecondaryAction",["root","disableGutters"]);const We=["className"],_e=e=>{const{disableGutters:t,classes:s}=e;return D({root:["root",t&&"disableGutters"]},Oe,s)},Ue=j("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>d({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),re=W(function(t,s){const o=V({props:t,name:"MuiListItemSecondaryAction"}),{className:n}=o,a=E(o,We),r=_(N),l=d({},o,{disableGutters:r.disableGutters}),i=_e(l);return c(Ue,d({className:P(i.root,n),ownerState:l,ref:s},a))});re.muiName="ListItemSecondaryAction";var Ve=re;const De=["className"],ze=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],He=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},Ye=e=>{const{alignItems:t,button:s,classes:o,dense:n,disabled:a,disableGutters:r,disablePadding:l,divider:i,hasSecondaryAction:u,selected:f}=e;return D({root:["root",n&&"dense",!r&&"gutters",!l&&"padding",i&&"divider",a&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",f&&"selected"],container:["container"]},Fe,o)},Xe=j("div",{name:"MuiListItem",slot:"Root",overridesResolver:He})(({theme:e,ownerState:t})=>d({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&d({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Ge.root}`]:{paddingRight:48}},{[`&.${T.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${T.selected}`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${T.focusVisible}`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${T.disabled}`]:{opacity:e.palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.selected}:hover`]:{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:$(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),qe=j("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Je=W(function(t,s){const o=V({props:t,name:"MuiListItem"}),{alignItems:n="center",autoFocus:a=!1,button:r=!1,children:l,className:i,component:u,components:f={},componentsProps:x={},ContainerComponent:C="li",ContainerProps:{className:b}={},dense:g=!1,disabled:p=!1,disableGutters:y=!1,disablePadding:m=!1,divider:L=!1,focusVisibleClassName:w,secondaryAction:z,selected:ce=!1}=o,le=E(o.ContainerProps,De),de=E(o,ze),me=_(N),B={dense:g||me.dense||!1,alignItems:n,disableGutters:y},G=be(null);Te(()=>{a&&G.current&&G.current.focus()},[a]);const S=he.toArray(l),H=S.length&&Ce(S[S.length-1],["ListItemSecondaryAction"]),A=d({},o,{alignItems:n,autoFocus:a,button:r,dense:B.dense,disabled:p,disableGutters:y,disablePadding:m,divider:L,hasSecondaryAction:H,selected:ce}),Y=Ye(A),X=Ae(G,s),R=f.Root||Xe,k=x.root||{},h=d({className:P(Y.root,k.className,i),disabled:p},de);let v=u||"li";return r&&(h.component=u||"div",h.focusVisibleClassName=P(T.focusVisible,w),v=ke),H?(v=!h.component&&!u?"div":v,C==="li"&&(v==="li"?v="div":h.component==="li"&&(h.component="div")),c(N.Provider,{value:B,children:I(qe,d({as:C,className:P(Y.container,b),ref:X,ownerState:A},le,{children:[c(R,d({},k,!te(R)&&{as:v,ownerState:d({},A,k.ownerState)},h,{children:S})),S.pop()]}))})):c(N.Provider,{value:B,children:I(R,d({},k,{as:v,ref:X,ownerState:A},!te(R)&&{ownerState:d({},A,k.ownerState)},h,{children:[S,z&&c(Ve,{children:z})]}))})});var Ke=Je;const Qe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Ze=e=>{const{classes:t,inset:s,primary:o,secondary:n,dense:a}=e;return D({root:["root",s&&"inset",a&&"dense",o&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},Pe,t)},et=j("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${se.primary}`]:t.primary},{[`& .${se.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:e})=>d({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),tt=W(function(t,s){const o=V({props:t,name:"MuiListItemText"}),{children:n,className:a,disableTypography:r=!1,inset:l=!1,primary:i,primaryTypographyProps:u,secondary:f,secondaryTypographyProps:x}=o,C=E(o,Qe),{dense:b}=_(N);let g=i!=null?i:n,p=f;const y=d({},o,{disableTypography:r,inset:l,primary:!!g,secondary:!!p,dense:b}),m=Ze(y);return g!=null&&g.type!==F&&!r&&(g=c(F,d({variant:b?"body2":"body1",className:m.primary,component:"span",display:"block"},u,{children:g}))),p!=null&&p.type!==F&&!r&&(p=c(F,d({variant:"body2",className:m.secondary,color:"text.secondary",display:"block"},x,{children:p}))),I(et,d({className:P(m.root,a),ownerState:y,ref:s},C,{children:[g,p]}))});var st=tt;const M={box:{display:"flex",flexWrap:"no-wrap",flexGrow:1,minWidth:"15rem",padding:0,margin:"0 2rem",justifyContent:"center","&::-webkit-scrollbar":{height:"0.1rem",backgroundColor:"rgba(0, 0, 0, 0.3)"},"&::-webkit-scrollbar-thumb":{height:"0.1rem",backgroundColor:"rgba(255, 255, 255, 0.3)"}},list:{backgroundColor:"rgba(16, 16, 16, 0.9)",color:"white",flex:"1 1",minWidth:"9rem",maxWidth:"20rem","&:hover":{backgroundColor:"rgba(16, 16, 16, 0.7)"},"& img":{filter:"drop-shadow(0 0 0.3rem white)"}},listItem:{cursor:"pointer",textAlign:"center","&[data-multi]::after":{content:'"\u25BC"',position:"absolute",bottom:"0.1rem",left:"50%",transform:"translateX(-50%)",fontSize:"x-small"},"&:not(first-of-type)":{borderLeft:"0.1rem solid rgba(255, 255, 255, 0.5)"}},menuItem:{gap:"0.2rem",minWidth:"8rem"},icon:{maxHeight:"1.5rem",margin:"0 0.3rem"}},ie=e=>c("img",K(O({},e),{style:M.icon}));function ot({level:e=0,selectedIndices:t,options:s,setIndex:o}){var y;const[n,a]=Q(null),r=s.length>1,l=m=>{a(m.currentTarget)},i=m=>{const{level:L,index:w}=m.target.dataset;o(parseInt(L),parseInt(w)),a(null)},u=()=>{a(null)};t[e]===void 0&&o(e,0);const f=(y=t[e])!=null?y:0,{label:x,value:C,icon:b,options:g}=s[f],p=I(Z,{children:[c(Le,{disablePadding:!0,sx:M.list,children:I(Ke,{"data-multi":r,sx:M.listItem,onClick:l,children:[b&&c(ie,{alt:C,src:b}),c(st,{primary:`${x}`})]})}),r&&c(Se,{anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:u,children:s.map((m,L)=>I(Ne,{selected:L===f,onClick:i,sx:M.menuItem,"data-index":L,"data-level":e,children:[m.icon&&c(ie,{alt:m.value,src:m.icon}),m.label]},m.value))}),g&&c(ot,{options:g,selectedIndices:t,level:e+1,setIndex:o})]});return e===0?c(Me,{className:"Breadcrumbs",sx:M.box,children:p}):p}const nt=(e,t)=>s=>{const o=s[e],n=o==null?void 0:o[t];n!==void 0&&(o[t]=!n,Object.values(o).every(Boolean)&&Object.keys(o).forEach(a=>o[a]=!1))};function at(e){const t=ve(()=>rt(e),[e]),[s,o]=Q(t);return[s,(r,l)=>o(i=>Ie(i,nt(r,l))),()=>o(t)]}function rt(e){const t=e.map(({name:s,options:o})=>{const n=o.map(r=>[r,!1]),a=Object.fromEntries(n);return[s,a]});return Object.fromEntries(t)}function it({name:e,options:t,type:s,state:o,toggle:n}){const a=i=>{const{group:u,value:f}=i.currentTarget.dataset;n(u,f)},r=i=>`img/appIcon/${e}_${i}.png`,l=t.map(i=>c(Re,{icon:r(i),value:i,type:s,checked:o[i],"data-group":e,onClick:a}));return c("div",{className:"ToggleGroup",children:l})}const ct=e=>Object.entries(e).map(([o,n])=>[o,Object.keys(n).filter(a=>n[a])]).filter(([,o])=>o.length);function Ct({config:e,onChange:t,compact:s}){if(!e)return c(Z,{});const[o,n,a]=at(e);xe(()=>{const l=ct(o);t(l)},[o]);const r=e.map((l,i)=>c(it,O({state:o[l.name],toggle:n},l),i));return I("div",{className:"Filter","data-compact":s,children:[r,c("button",{className:"Filter-reset",onClick:a,children:c("span",{children:"Reset"})})]})}var Lt=je(c("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt");function lt(){return new Worker("/dl-model/assets/filterWorker.9787b4d9.js",{type:"module"})}function St(e,t){if(!t.length)return e;const s=new lt;return new Promise(o=>{s.addEventListener("message",n=>{s.terminate(),o(n.data)}),s.postMessage({fullList:e,conditions:t})})}const Tt=[{name:"weapon",type:"icon",options:oe},{name:"rarity",type:"icon",options:ne},{name:"element",type:"icon",options:ae}],At=[{name:"rarity",type:"icon",options:ne},{name:"element",type:"icon",options:ae}],kt=[{name:"weapon",type:"icon",options:oe},{name:"rarity",type:"icon",options:Ee},{name:"element",type:"icon",options:$e}];export{ot as B,Lt as F,it as T,Ct as a,Tt as c,At as d,St as f,kt as w};
