var E=Object.defineProperty,D=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;var y=(t,s,e)=>s in t?E(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,p=(t,s)=>{for(var e in s||(s={}))x.call(s,e)&&y(t,e,s[e]);if(h)for(var e of h(s))f.call(s,e)&&y(t,e,s[e]);return t},v=(t,s)=>D(t,I(s));var j=(t,s)=>{var e={};for(var c in t)x.call(t,c)&&s.indexOf(c)<0&&(e[c]=t[c]);if(t!=null&&h)for(var c of h(t))s.indexOf(c)<0&&f.call(t,c)&&(e[c]=t[c]);return e};import{a as r,j as n,s as N,b as C,F}from"./index.7f884fcf.js";import{aD as S,aG as L}from"./vendor.7867cdc7.js";import{u as P}from"./useKey.331ec04f.js";import{F as k}from"./FacePartSelector.5da302cb.js";import{E as K,M as U,i as w}from"./getTexturePath.64409c3f.js";import{M as G,a as z}from"./MeshMouthSelect.984f1f7b.js";import{D as B,a as $}from"./DialogTitle.936889f0.js";import"./Selector.0830df2c.js";import"./GlowToggle.8d8f0d18.js";import"./Box.65bd9130.js";import"./ButtonBase.1beca0f5.js";import"./DialogContext.32b4e0e7.js";import"./Button.6f1d4e74.js";function q(d){var a=d,{eyeTexture:t,eyeIdx:s,mouthTexture:e,mouthIdx:c}=a,o=j(a,["eyeTexture","eyeIdx","mouthTexture","mouthIdx"]);return r("div",v(p({className:"FaceBox"},o),{children:[n(K,{texture:t,index:s}),n(U,{texture:e,index:c})]}))}function A({target:t,onSelect:s}){const e=t==null?void 0:t.face;if(!e||(e==null?void 0:e.type)!=="uv")return n("h2",{children:"Not Available"});const[c,o]=P();S(()=>{const i=e.addEventListener("change",({propName:l})=>{(l.includes("Base")||l.includes("Texture"))&&o()});return()=>e.removeEventListener("change",i)},[]);const d=N(),[a,u]=L("Both");S(()=>!d&&o(),[a]);const m=i=>{const{index:l}=i.currentTarget.dataset;a!=="Eyes"&&s(l,"mouth"),a!=="Mouth"&&s(l,"eye")},{eyeBaseIdx:M,eyeTexture:g,mouthBaseIdx:b,mouthTexture:T}=e;return r("div",{className:"UvFaceSelect",children:[n(k,{value:a,onClick:u}),n("div",{className:"FaceBoxes",children:w.map(i=>n(q,{eyeTexture:g,eyeIdx:a==="Mouth"?M:i,mouthTexture:T,mouthIdx:a==="Eyes"?b:i,"data-index":i,onClick:m}))},c)]})}function H({target:t,onSelect:s}){var c,o;const e=t==null?void 0:t.face;return(e==null?void 0:e.type)==="meshes"&&r("div",{className:"MeshFaceSelect",children:[((c=e==null?void 0:e.eyeList)==null?void 0:c.length)>0&&n(G,{target:t,onSelect:s}),((o=e==null?void 0:e.mouthList)==null?void 0:o.length)>0&&n(z,{target:t,onSelect:s})]})}const J={uv:A,meshes:H},O={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function oe({onSelect:t,onAfterSelect:s}){var a,u;const{activeModel:e}=C(),c=(a=e==null?void 0:e.face)==null?void 0:a.type,o=(u=J[c])!=null?u:()=>n(F,{}),d=(...m)=>{t(...m),s==null||s()};return(e==null?void 0:e.face)?r("div",{className:"FaceSelect",children:[n(B,{sx:{textAlign:"center"},children:"Face Select"}),n($,{sx:{padding:"1rem"},children:n(o,{target:e,onSelect:d})})]}):r(F,{children:[n(B,{sx:{textAlign:"center"},children:"Face Select"}),n("div",{style:O,children:"Not available"})]})}export{oe as default};
