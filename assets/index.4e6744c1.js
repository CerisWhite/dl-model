var g=Object.defineProperty;var m=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var y=(t,s,e)=>s in t?g(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e,p=(t,s)=>{for(var e in s||(s={}))h.call(s,e)&&y(t,e,s[e]);if(m)for(var e of m(s))x.call(s,e)&&y(t,e,s[e]);return t};var v=(t,s)=>{var e={};for(var o in t)h.call(t,o)&&s.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&m)for(var o of m(t))s.indexOf(o)<0&&x.call(t,o)&&(e[o]=t[o]);return e};import{ax as a,aB as f,aF as T,aD as F}from"./vendor.dead0e45.js";import{q as E,a as D}from"./index.d4e0b2a9.js";import{u as I}from"./useKey.c0faf57c.js";import{F as N}from"./FacePartSelector.f4a07f82.js";import{E as C,M as L,i as P}from"./getTexturePath.c6377bba.js";import{M as k,a as K}from"./MeshMouthSelect.a885dee3.js";import{D as S,a as U}from"./DialogTitle.ba06c24c.js";import"./Selector.b9959e8c.js";import"./GlowToggle.faacaa36.js";import"./Box.93a277ea.js";import"./ButtonBase.7e212a37.js";import"./DialogContext.3bb3b8e3.js";import"./Button.21dca63e.js";function w(r){var c=r,{eyeTexture:t,eyeIdx:s,mouthTexture:e,mouthIdx:o}=c,n=v(c,["eyeTexture","eyeIdx","mouthTexture","mouthIdx"]);return a("div",p({className:"FaceBox"},n),a(C,{texture:t,index:s}),a(L,{texture:e,index:o}))}function q({target:t,onSelect:s}){const e=t==null?void 0:t.face;if(!e||(e==null?void 0:e.type)!=="uv")return a("h2",null,"Not Available");const[o,n]=I();f(()=>{const i=e.addEventListener("change",({propName:l})=>{(l.includes("Base")||l.includes("Texture"))&&n()});return()=>e.removeEventListener("change",i)},[]);const r=E(),[c,u]=T("Both");f(()=>!r&&n(),[c]);const d=i=>{const{index:l}=i.currentTarget.dataset;c!=="Eyes"&&s(l,"mouth"),c!=="Mouth"&&s(l,"eye")},{eyeBaseIdx:j,eyeTexture:B,mouthBaseIdx:M,mouthTexture:b}=e;return a("div",{className:"UvFaceSelect"},a(N,{value:c,onClick:u}),a("div",{key:o,className:"FaceBoxes"},P.map(i=>a(w,{eyeTexture:B,eyeIdx:c==="Mouth"?j:i,mouthTexture:b,mouthIdx:c==="Eyes"?M:i,"data-index":i,onClick:d}))))}function z({target:t,onSelect:s}){var o,n;const e=t==null?void 0:t.face;return(e==null?void 0:e.type)==="meshes"&&a("div",{className:"MeshFaceSelect"},((o=e==null?void 0:e.eyeList)==null?void 0:o.length)>0&&a(K,{target:t,onSelect:s}),((n=e==null?void 0:e.mouthList)==null?void 0:n.length)>0&&a(k,{target:t,onSelect:s}))}const G={uv:q,meshes:z},$={display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"large"};function se({onSelect:t,onAfterSelect:s}){var c,u;const{activeModel:e}=D(),o=(c=e==null?void 0:e.face)==null?void 0:c.type,n=(u=G[o])!=null?u:()=>a(F,null),r=(...d)=>{t(...d),s==null||s()};return(e==null?void 0:e.face)?a("div",{className:"FaceSelect"},a(S,{sx:{textAlign:"center"}},"Face Select"),a(U,{sx:{padding:"1rem"}},a(n,{target:e,onSelect:r}))):a(F,null,a(S,{sx:{textAlign:"center"}},"Face Select"),a("div",{style:$},"Not available"))}export{se as default};
