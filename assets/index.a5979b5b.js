var A=Object.defineProperty;var F=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var v=(e,o,t)=>o in e?A(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,y=(e,o)=>{for(var t in o||(o={}))Q.call(o,t)&&v(e,t,o[t]);if(F)for(var t of F(o))$.call(o,t)&&v(e,t,o[t]);return e};import{aV as q,aF as p,aB as C,ax as a,aI as z}from"./vendor.ad1e55a4.js";import{x as E,y as P,i as R}from"./index.75d3cd0a.js";import{u as V,S as W}from"./lists.146068f1.js";import{f as H,B as J,F as K,a as O}from"./filterConfig.090b15f5.js";import{G as U}from"./GlowToggle.4c7bcf1f.js";import{b as X}from"./useAppData.4b40d8a4.js";import{G as Y}from"./Gallery.3c6c2396.js";import{M,C as Z,s as c}from"./styles.3a863f45.js";import{L as _}from"./LoadSpinner.289af2f7.js";import{g as tt}from"./index.2f8464d2.js";import{c as G,u as T}from"./categories.aa5162d2.js";import{B as x}from"./Box.3f20a555.js";import{D as ot,a as et}from"./DialogTitle.0c03aa8c.js";import{I as at}from"./Close.7c73f26e.js";import"./ButtonBase.3daa2b57.js";import"./Popover.98338255.js";import"./MenuItem.de2d2857.js";import"./ToggleGroup.f843ecbd.js";import"./DialogContext.fe2532f4.js";const st=[],nt=["w","b"],it=e=>nt.some(o=>e.startsWith(o)),rt=e=>it(e.id)?a(M,y({},e)):a(Z,y({},e));function lt({compact:e,content:o,searchQuery:t,searchAll:s,filter:n=st,onSelect:i}){var u;const l=(u=X(f=>f[o]))!=null?u:[],[r,d]=p([]),[j,m]=p(!1);return C(()=>d(l),[o]),C(()=>{m(!0);async function f(){if(s)return t?await E(t):l;const g=await P(l,t);return await H(g,n)}setTimeout(async()=>{const g=await f();d(g),m(!1)})},[t,n,s]),l.length&&!j?a(Y,{list:r,component:e?M:rt,onClick:i}):a(_,null)}var ct=q(lt);const dt=e=>{let o=G;const t=[];return e.forEach(s=>{const n=o[s],i=n==null?void 0:n.value;i!==void 0&&(t.push(i),o=n.options)}),t.join("-")},L=[];function It({compact:e,onSelect:o=()=>{},onAfterSelect:t}){const{indices:s,setIndex:n,showFilter:i,toggleFilter:l,searchAll:r,toggleSearchAll:d}=R(),j=!!indexedDB,[m,u]=p(""),f=V(m,500),[g,B]=p(L),b=e||T("(max-width:640px)")||T("(max-height:640px)"),I=z(S=>{const{value:k,name:N}=S.currentTarget.dataset;o(k,N),t==null||t()},[]),w=dt(s),h=tt(w);C(()=>B(L),[i,s]),C(()=>{u(""),r&&d()},[s]);const D=s.join();return a(x,{className:"ModelCatalog",sx:c.root},a(x,{sx:c.top},a(ot,{sx:c.title},"Model Select"),a(J,{options:G,selectedIndices:s,setIndex:n}),a(x,{sx:c.searchFilter},a(x,{sx:c.search},j&&a(U,{type:"text",value:"All",checked:r,onClick:d}),a(W,{key:D,query:m,onChange:u}),h&&!r&&a(at,{onClick:l,size:"large"},a(K,null))),!r&&i&&h&&a(O,{key:D,config:h,onChange:B,compact:b}))),a(et,{sx:c.content},a(ct,{compact:b,searchQuery:f,filter:g,content:w,onSelect:I,searchAll:r})))}export{It as default};
