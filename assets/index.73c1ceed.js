var A=Object.defineProperty;var D=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var v=(o,e,t)=>e in o?A(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,y=(o,e)=>{for(var t in e||(e={}))z.call(e,t)&&v(o,t,e[t]);if(D)for(var t of D(e))Q.call(e,t)&&v(o,t,e[t]);return o};import{aV as $,aF as g,aB as j,ax as a,aI as q}from"./vendor.ffd395ab.js";import{y as E,z as P,h as R}from"./index.1e70a2f8.js";import{u as V,S as W}from"./lists.ffd52334.js";import{f as H,B as J,F as K,a as O}from"./filterConfig.233952f4.js";import{G as U}from"./GlowToggle.bc6a2cea.js";import{u as X}from"./useAppData.d907c9bc.js";import{G as Y}from"./Gallery.edc5b06e.js";import{M,C as Z,s as c}from"./styles.e6570021.js";import{L as _}from"./LoadSpinner.d8b7e4fc.js";import{g as tt}from"./index.b9c5a138.js";import{c as T,u as G}from"./categories.fe9f39ad.js";import{B as C}from"./Box.d6d5f65e.js";import{D as et,a as ot}from"./DialogTitle.3ac1c173.js";import{I as at}from"./Close.ca078ff9.js";import"./ButtonBase.e40964c1.js";import"./Popover.80b4a490.js";import"./TextField.6c373f07.js";import"./MenuItem.4633d262.js";import"./ToggleGroup.6cf28cff.js";/* empty css               */import"./DialogContext.619db339.js";const st=[],nt=["w","b"],it=o=>nt.some(e=>o.startsWith(e)),rt=o=>it(o.id)?a(M,y({},o)):a(Z,y({},o));function lt({compact:o,content:e,searchQuery:t,searchAll:s,filter:n=st,onSelect:i}){var f;const l=(f=X(u=>u[e]))!=null?f:[],[r,d]=g([]),[x,m]=g(!1);return j(()=>d(l),[e]),j(()=>{m(!0);async function u(){if(s)return t?await E(t):l;const p=await P(l,t);return await H(p,n)}setTimeout(async()=>{const p=await u();d(p),m(!1)})},[t,n,s]),l.length&&!x?a(Y,{list:r,component:o?M:rt,onClick:i}):a(_,null)}var ct=$(lt);const dt=o=>{let e=T;const t=[];return o.forEach(s=>{const n=e[s],i=n==null?void 0:n.value;i!==void 0&&(t.push(i),e=n.options)}),t.join("-")},L=[];function kt({compact:o,onSelect:e=()=>{},onAfterSelect:t}){const{indices:s,setIndex:n,showFilter:i,toggleFilter:l,searchAll:r,toggleSearchAll:d}=R(),x=!!indexedDB,[m,f]=g(""),u=V(m,500),[p,b]=g(L),B=o||G("(max-width:640px)")||G("(max-height:640px)"),I=q(S=>{const{value:k,name:N}=S.currentTarget.dataset;e(k,N),t==null||t()},[]),F=dt(s),h=tt(F);j(()=>b(L),[i,s]),j(()=>{f(""),r&&d()},[s]);const w=s.join();return a(C,{className:"ModelCatalog",sx:c.root},a(C,{sx:c.top},a(et,{sx:c.title},"Model Select"),a(J,{options:T,selectedIndices:s,setIndex:n}),a(C,{sx:c.searchFilter},a(C,{sx:c.search},x&&a(U,{type:"text",value:"All",checked:r,onClick:d}),a(W,{key:w,query:m,onChange:f}),h&&!r&&a(at,{onClick:l,size:"large"},a(K,null))),!r&&i&&h&&a(O,{key:w,config:h,onChange:b,compact:B}))),a(ot,{sx:c.content},a(ct,{compact:B,searchQuery:u,filter:p,content:F,onSelect:I,searchAll:r})))}export{kt as default};
